
# namespace = magic_realm_divination


# #Divination - Menu
# country_event = {
	# id = magic_realm_divination.0
	# title = magic_realm_divination.0.t
	# desc = magic_realm_divination.0.d
	# picture = BIG_BOOK_eventPicture
	
	# is_triggered_only = yes
	
	# option = {
		# name = magic_realm_nospells.0.a
		# trigger = {
			# NOT = { has_ruler_flag = divination_1 }
			# NOT = { has_ruler_flag = divination_2 }
			# NOT = { has_ruler_flag = divination_3 }
		# }
		# ai_chance = {
			# factor = 50
		# }
		
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm.0 }
		# }
		
	# }
	
	# option = {	#Scrying 1
		# name = magic_realm_divination.1.t
		# trigger = {
			# has_ruler_flag = divination_1
		# }
		# ai_chance = {
			# factor = 50
		# }
		
		# country_event = { id = magic_realm_divination.1 }
		
		# custom_tooltip = tooltip_option_divination_1
	# }
	
	# option = {	#Legend Lore 2
		# name = magic_realm_divination.2.t
		# trigger = {
			# has_ruler_flag = divination_2
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 0
				# has_ruler_flag = ruler_studying_legend_lore
			# }
		# }
		
		# country_event = { id = magic_realm_divination.2 }
		
		# custom_tooltip = tooltip_option_divination_2
	# }
	
	# option = {	#Foresight 3
		# name = magic_realm_divination.3.t
		# trigger = {
			# has_ruler_flag = divination_3
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 4
				# AND = {
					# adm_power = 150
					# dip_power = 150
					# mil_power = 150
				# }
			# }
			# modifier = {
				# factor = 0
				# NOT = { adm_power = 150 }
				# NOT = { dip_power = 150 }
				# NOT = { mil_power = 150 }
			# }
		# }
		
		# country_event = { id = magic_realm_divination.3 }
		
		# custom_tooltip = tooltip_option_divination_3
	# }

	# option = {	#Summoning Magic Project 
		# name = magic_realm_divination.4.t
		# trigger = {
			# capital_scope = { continent = asia }
			# OR = {
				# has_ruler_flag = divination_3
				# AND = {
					# has_ruler_flag = divination_2
					# has_ruler_flag = conjuration_2
				# }
			# }
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 4
				# AND = {
					# adm_power = 50
					# dip_power = 50
					# mil_power = 50
				# }
			# }
			# modifier = {
				# factor = 0
				# NOT = { adm_power = 50 }
				# NOT = { dip_power = 50 }
				# NOT = { mil_power = 50 }
			# }
		# }
		
		# country_event = { id = magic_realm_divination.4 }
		
		# if = {
			# limit = { has_ruler_flag = divination_3 }
			# custom_tooltip = tooltip_option_divination_3
		# }
		# else_if = {
			# limit = { 
				# AND = {
					# has_ruler_flag = divination_2
					# has_ruler_flag = conjuration_2
				# }
			 # }
			# custom_tooltip = tooltip_option_divination_2
			# custom_tooltip = tooltip_option_conjuration_2
		# }
	# }
	
	# option = {
		# name = magic_siege.goback
		# ai_chance = {
			# factor = 5
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm.0 }
		# }
	# }
# }

# # 1 - Scrying
# country_event = {
	# id = magic_realm_divination.1
	# title = magic_realm_divination.1.t
	# desc = magic_realm_divination.1.d
	# picture = CITY_VIEW_eventPicture
	
	# is_triggered_only = yes
	
	# immediate = {
		# hidden_effect = { 
			# count_provinces_owned_by_rivals_effect = {
				# which = amount_of_rival_provinces
			# }
		# }
		# hidden_effect = { 
			# count_provinces_owned_by_neighbours_effect = {
				# which = amount_of_neighbour_provinces
			# }
		# }
		# hidden_effect = { 
			# count_provinces_owned_by_country_effect = {
				# which = amount_of_owned_provinces
			# }
		# }
		# hidden_effect = { 
			# count_provinces_owned_by_war_enemies_effect = {
				# which = amount_of_war_enemy_provinces
			# }
		# }
	# }
	
	# option = {
		# name = magic_realm_unavailable.0.a
		# trigger = {
			# AND = {
				# has_ruler_modifier = magic_realm_divination_scrying_internal_dissidents
				# has_ruler_modifier = magic_realm_divination_scrying_rivals
				# has_ruler_modifier = magic_realm_divination_scrying_neighbours
				# has_ruler_modifier = magic_realm_divination_scrying_affairs
			# }
		# }
		# custom_tooltip = tooltip_magic_realm_unavailable_cooldown
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
	
	# option = {	#Spy on our rivals
		# name = magic_realm_divination.1.a
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 4
				# is_great_power = yes
			# }
		# }
		
		# trigger = {
			# any_rival_country  = {
				# exists = yes
			# }
			# NOT = { has_ruler_modifier = magic_realm_divination_scrying_rivals }
		# }
		# #Supernal Scrying for Patrons
		# if = {
			# limit = { has_ruler_flag = honored_ancestor_patron }
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_rivals
				# duration = 362
			# }
		# }
		# #Normal Scrying
		# else = {
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_rivals
				# duration = 182
			# }
		# }
		# every_rival_country = {
			# remove_fow = 6
		# }
		
		# magic_casted_spell = yes

		
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 1 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 5 } }
			# }
			
			# add_adm_power = -25
			# add_dip_power = -25
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 5 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 10 } }
			# }
			# add_adm_power = -30
			# add_dip_power = -30
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 10 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 15 } }
			# }
			# add_adm_power = -35
			# add_dip_power = -35
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 15 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 20 } }
			# }
			# add_years_of_income = -0.4
			# add_adm_power = -40
			# add_dip_power = -40
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 20 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 30 } }
			# }
			# add_years_of_income = -0.5
			# add_adm_power = -45	
			# add_dip_power = -45
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 30 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 40 } }
			# }
			# add_years_of_income = -0.6
			# add_adm_power = -50
			# add_dip_power = -50
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 40 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 50 } }
			# }
			# add_years_of_income = -0.7
			# add_adm_power = -55	
			# add_dip_power = -55
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 50 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 60 } }
			# }
			# add_years_of_income = -0.8
			# add_adm_power = -60
			# add_dip_power = -60
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 60 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 70 } }
			# }
			# add_years_of_income = -0.9
			# add_adm_power = -65
			# add_dip_power = -65
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 70 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 80 } }
			# }
			# add_years_of_income = -1
			# add_adm_power = -70	
			# add_dip_power = -70
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 80 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 90 } }
			# }
			# add_years_of_income = -1.1
			# add_adm_power = -75
			# add_dip_power = -75
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 90 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 100 } }
			# }
			# add_years_of_income = -1.2
			# add_adm_power = -80
			# add_dip_power = -80
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 100 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 200 } }
			# }
			
			# add_adm_power = -85
			# add_dip_power = -85
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 300 } }
			# }
			# add_years_of_income = -1.4
			# add_adm_power = -90
			# add_dip_power = -90
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 300 } }
			# }
			
			# add_adm_power = -95
			# add_dip_power = -95
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 300 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 400 } }
			# }
			# add_years_of_income = -1.6
			# add_adm_power = -100
			# add_dip_power = -100
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 400 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 500 } }
			# }
			# add_years_of_income = -1.7
			# add_adm_power = -105
			# add_dip_power = -105
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_rival_provinces value = 500 }
				# NOT = { check_variable = { which = amount_of_rival_provinces value = 1000 } }
			# }
			# add_years_of_income = -3
			# add_adm_power = -150
			# add_dip_power = -150
		# }
	# }
	
	# option = {	#Spy on our neighbours
		# name = magic_realm_divination.1.b
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 4
				# personality = ai_diplomat
			# }
		# }
		
		# #Check to see if the country actually has any neighbours
		# trigger = {
			# any_country = {
				# is_neighbor_of = ROOT
			# }
			# NOT = { has_ruler_modifier = magic_realm_divination_scrying_neighbours }
		# }
		# #Supernal Scrying for Patrons
		# if = {
			# limit = { has_ruler_flag = honored_ancestor_patron }
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_neighbours
				# duration = 362
			# }
		# }
		# #Normal Scrying
		# else = {
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_neighbours
				# duration = 182
			# }
		# }
		# every_country = {
			# limit = { 
				# is_neighbor_of  = ROOT 
			# }
			# remove_fow = 6
		# }
		
		# magic_casted_spell = yes

		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 1 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 5 } }
			# }
			
			# add_adm_power = -50	#adm power is the administrative cost of watching all these scrying balls
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 5 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 10 } }
			# }
			# add_adm_power = -60	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 10 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 15 } }
			# }
			# add_adm_power = -70
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 15 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 20 } }
			# }
			# add_adm_power = -80
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 20 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 30 } }
			# }
			# add_adm_power = -90	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 30 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 40 } }
			# }
			# add_adm_power = -100	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 40 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 50 } }
			# }
			# add_adm_power = -110	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 50 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 60 } }
			# }
			# add_adm_power = -120
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 60 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 70 } }
			# }
			# add_adm_power = -130	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 70 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 80 } }
			# }
			# add_adm_power = -140	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 80 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 90 } }
			# }
			# add_adm_power = -150
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 90 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 100 } }
			# }
			# add_adm_power = -160
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 100 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 200 } }
			# }
			
			# add_adm_power = -170
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 300 } }
			# }
			# add_adm_power = -180
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 300 } }
			# }
			
			# add_adm_power = -190
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 300 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 400 } }
			# }
			# add_adm_power = -200
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 400 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 500 } }
			# }
			# add_adm_power = -210
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_neighbour_provinces value = 500 }
				# NOT = { check_variable = { which = amount_of_neighbour_provinces value = 1000 } }
			# }
			# add_adm_power = -300
		# }
	# }
	
	# option = {	#Scry on internal dissidents
		# name = magic_realm_divination.1.c
		# trigger = {
			# NOT = { has_ruler_modifier = magic_realm_divination_scrying_internal_dissidents }
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 4
				# average_unrest = 5
			# }
			# modifier = {
				# factor = 4
				# NOT = { stability = 1 }
			# }
			# modifier = {
				# factor = 8
				# any_subject_country = {
					# liberty_desire = 50
				# }
			# }
		# }
		# #Supernal Scrying for Patrons
		# if = {
			# limit = { has_ruler_flag = honored_ancestor_patron }
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_internal_dissidents
				# duration = 2192
			# }
		# }
		# #Normal Scrying
		# else = {
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_internal_dissidents
				# duration = 1096
			# }
		# }
		
		# magic_casted_spell = yes
		
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 1 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 5 } }
			# }
			
			# add_adm_power = -50	#adm power is the administrative cost of watching all these scrying balls
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 5 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 10 } }
			# }
			# add_adm_power = -60	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 10 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 15 } }
			# }
			# add_adm_power = -70
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 15 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 20 } }
			# }
			# add_adm_power = -80
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 20 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 30 } }
			# }
			# add_adm_power = -90	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 30 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 40 } }
			# }
			# add_adm_power = -100	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 40 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 50 } }
			# }
			# add_adm_power = -110	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 50 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 60 } }
			# }
			# add_adm_power = -120
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 60 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 70 } }
			# }
			# add_adm_power = -130	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 70 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 80 } }
			# }
			# add_adm_power = -140	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 80 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 90 } }
			# }
			# add_adm_power = -150
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 90 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 100 } }
			# }
			# add_adm_power = -160
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 100 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 200 } }
			# }
			# add_adm_power = -170
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 300 } }
			# }
			# add_adm_power = -180
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 300 } }
			# }
			# add_adm_power = -190
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 300 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 400 } }
			# }
			# add_adm_power = -200
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 400 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 500 } }
			# }
			# add_adm_power = -210
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 500 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 1000 } }
			# }
			# add_adm_power = -300
		# }
	# }
	
	# option = {	#Scry the affairs of the realm
		# name = magic_realm_divination.1.dd
		# trigger = {
			# NOT = { has_ruler_modifier = magic_realm_divination_scrying_affairs }
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 8
				# OR = {
					# adm_power = 200
					# dip_power = 200
					# mil_power = 200
				# }
			# }
		# }
		
		# magic_casted_spell = yes
		# #Supernal Scrying for Patrons
		# if = {
			# limit = { has_ruler_flag = honored_ancestor_patron }
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_affairs
				# duration = 2192
			# }
		# }
		# #Normal Scrying
		# else = {
			# add_country_modifier = {
				# name = magic_realm_divination_scrying_affairs
				# duration = 1096
			# }
		# }
	
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 1 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 5 } }
			# }
			
			# add_adm_power = -50	#adm power is the administrative cost of watching all these scrying balls
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 5 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 10 } }
			# }
			# add_adm_power = -60	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 10 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 15 } }
			# }
			# add_adm_power = -70
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 15 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 20 } }
			# }
			# add_adm_power = -80
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 20 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 30 } }
			# }
			# add_adm_power = -90	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 30 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 40 } }
			# }
			# add_adm_power = -100	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 40 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 50 } }
			# }
			# add_adm_power = -110	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 50 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 60 } }
			# }
			# add_adm_power = -120
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 60 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 70 } }
			# }
			# add_adm_power = -130	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 70 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 80 } }
			# }
			# add_adm_power = -140	
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 80 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 90 } }
			# }
			# add_adm_power = -150
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 90 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 100 } }
			# }
			# add_adm_power = -160
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 100 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 200 } }
			# }
			# add_adm_power = -170
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 300 } }
			# }
			# add_adm_power = -180
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 200 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 300 } }
			# }
			# add_adm_power = -190
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 300 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 400 } }
			# }
			# add_adm_power = -200
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 400 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 500 } }
			# }
			# add_adm_power = -210
		# }
		# if = {
			# limit = {
				# check_variable = { which = amount_of_owned_provinces value = 500 }
				# NOT = { check_variable = { which = amount_of_owned_provinces value = 1000 } }
			# }
			# add_adm_power = -300
		# }
	# }
	
	# option = {	#Option B: Go back
		# name = magic_siege.goback
		# ai_chance = {
			# factor = 5
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
# }

# # 2 - Legend Lore
# country_event = {
	# id = magic_realm_divination.2
	# title = magic_realm_divination.2.t
	# desc = magic_realm_divination.2.d
	# picture = BIG_BOOK_eventPicture
	
	# is_triggered_only = yes
	
	# option = {
		# name = magic_realm_divination.2.u
		# trigger = {
			# NOT = {
				# OR = {
					# has_ruler_flag = ruler_studying_magic_relic
					# has_ruler_flag = ruler_studying_ancient_tome_found
				# }
			# }
		# }
		# ai_chance = {
			# factor = 5
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
	
	# option = {
		# name = magic_realm_divination.2.a
		# ai_chance = {
			# factor = 50
		# }
		
		# trigger = {
			# has_ruler_flag = divination_2
			# NOT = { has_ruler_flag = ruler_studying_legend_lore }
			# OR = {
				# has_ruler_flag = ruler_studying_magic_relic
				# has_ruler_flag = ruler_studying_ancient_tome_found
			# }
		# }
		
		# #Effects
		# set_ruler_flag = ruler_studying_legend_lore
		# increase_study_experience = {
			# experience = 100
		# }
		# magic_casted_spell = yes

		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_abjuration
					# NOT = { has_ruler_flag = abjuration_1 }
					# NOT = { has_ruler_flag = abjuration_2 }
					# NOT = { has_ruler_flag = abjuration_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_abjuration
					# has_ruler_flag = abjuration_1
					# NOT = { has_ruler_flag = abjuration_2 }
					# NOT = { has_ruler_flag = abjuration_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_abjuration
					# has_ruler_flag = abjuration_2
					# NOT = { has_ruler_flag = abjuration_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_conjuration
					# NOT = { has_ruler_flag = conjuration_1 }
					# NOT = { has_ruler_flag = conjuration_2 }
					# NOT = { has_ruler_flag = conjuration_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_conjuration
					# has_ruler_flag = conjuration_1
					# NOT = { has_ruler_flag = conjuration_2 }
					# NOT = { has_ruler_flag = conjuration_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_conjuration
					# has_ruler_flag = conjuration_2
					# NOT = { has_ruler_flag = conjuration_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_divination
					# NOT = { has_ruler_flag = divination_1 }
					# NOT = { has_ruler_flag = divination_2 }
					# NOT = { has_ruler_flag = divination_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_divination
					# has_ruler_flag = divination_1
					# NOT = { has_ruler_flag = divination_2 }
					# NOT = { has_ruler_flag = divination_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_divination
					# has_ruler_flag = divination_2
					# NOT = { has_ruler_flag = divination_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_enchantment
					# NOT = { has_ruler_flag = enchantment_1 }
					# NOT = { has_ruler_flag = enchantment_2 }
					# NOT = { has_ruler_flag = enchantment_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_enchantment
					# has_ruler_flag = enchantment_1
					# NOT = { has_ruler_flag = enchantment_2 }
					# NOT = { has_ruler_flag = enchantment_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_enchantment
					# has_ruler_flag = enchantment_2
					# NOT = { has_ruler_flag = enchantment_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_evocation
					# NOT = { has_ruler_flag = evocation_1 }
					# NOT = { has_ruler_flag = evocation_2 }
					# NOT = { has_ruler_flag = evocation_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_evocation
					# has_ruler_flag = evocation_1
					# NOT = { has_ruler_flag = evocation_2 }
					# NOT = { has_ruler_flag = evocation_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_evocation
					# has_ruler_flag = evocation_2
					# NOT = { has_ruler_flag = evocation_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_illusion
					# NOT = { has_ruler_flag = illusion_1 }
					# NOT = { has_ruler_flag = illusion_2 }
					# NOT = { has_ruler_flag = illusion_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_illusion
					# has_ruler_flag = illusion_1
					# NOT = { has_ruler_flag = illusion_2 }
					# NOT = { has_ruler_flag = illusion_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_illusion
					# has_ruler_flag = illusion_2
					# NOT = { has_ruler_flag = illusion_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_necromancy
					# NOT = { has_ruler_flag = necromancy_1 }
					# NOT = { has_ruler_flag = necromancy_2 }
					# NOT = { has_ruler_flag = necromancy_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_necromancy
					# has_ruler_flag = necromancy_1
					# NOT = { has_ruler_flag = necromancy_2 }
					# NOT = { has_ruler_flag = necromancy_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_necromancy
					# has_ruler_flag = necromancy_2
					# NOT = { has_ruler_flag = necromancy_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
		
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_transmutation
					# NOT = { has_ruler_flag = transmutation_1 }
					# NOT = { has_ruler_flag = transmutation_2 }
					# NOT = { has_ruler_flag = transmutation_3 }
				# }
			# }
			# add_dip_power = -20
			# add_mil_power = -5
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_transmutation
					# has_ruler_flag = transmutation_1
					# NOT = { has_ruler_flag = transmutation_2 }
					# NOT = { has_ruler_flag = transmutation_3 }
				# }
			# }
			# add_dip_power = -40
			# add_mil_power = -10
		# }
		# if = {
			# limit = {
				# AND = {
					# has_ruler_flag = ruler_studying_transmutation
					# has_ruler_flag = transmutation_2
					# NOT = { has_ruler_flag = transmutation_3 }
				# }
			# }
			# add_dip_power = -80
			# add_mil_power = -20
		# }
	# }
	
	# option = {	#Option B: Go back
		# name = magic_siege.goback
		# ai_chance = {
			# factor = 5
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
# }


# # 3 - Foresight
# country_event = {
	# id = magic_realm_divination.3
	# title = magic_realm_divination.3.t
	# desc = magic_realm_divination.3.d
	# picture = BIG_BOOK_eventPicture
	
	# is_triggered_only = yes
	
	# option = {
		# name = magic_realm_unavailable.0.a
		# trigger = {
			# has_ruler_flag = divination_3
			# OR = {
				# has_ruler_modifier = magic_realm_divination_foresight_madness
				# has_ruler_modifier = magic_realm_divination_foresight
			# }
		# }
		# custom_tooltip = tooltip_magic_realm_unavailable_cooldown
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
	
	# option = {
		# name = magic_realm_divination.3.cost
		# trigger = {
			# OR = {
				# NOT = { adm_power = 150 }
				# NOT = { dip_power = 150 }
				# NOT = { mil_power = 150 }
			# }
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
	
	# option = {	#Cast Foresight
		# name = magic_realm_divination.3.a
		# trigger = {
			# has_ruler_flag = divination_3
			# NOT = { has_ruler_modifier = magic_realm_divination_foresight }
			# NOT = { has_ruler_modifier = magic_realm_divination_foresight_madness }
			
			# adm_power = 150
			# dip_power = 150
			# mil_power = 150
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 0
				# AND = {
					# NOT = { adm_power = 150 }
					# NOT = { dip_power = 150 }
					# NOT = { mil_power = 150 }
				# }
			# }
			# modifier = {
				# factor = 0
				# ruler_has_personality = careful_personality
			# }
			# modifier = {
				# factor = 0.25
				# ruler_has_personality = immortal_personality	#long-lived people dont care!
			# }
			# modifier = {
				# factor = 0.5
				# OR = {
					# has_ruler_flag = foresight_spell_11
					# has_ruler_flag = foresight_spell_12
					# has_ruler_flag = foresight_spell_13
					# has_ruler_flag = foresight_spell_14
					# has_ruler_flag = foresight_spell_15
				# }
			# }
			# modifier = {
				# factor = 0.25
				# OR = {
					# has_ruler_flag = foresight_spell_16
					# has_ruler_flag = foresight_spell_17
					# has_ruler_flag = foresight_spell_18
					# has_ruler_flag = foresight_spell_19
					# has_ruler_flag = foresight_spell_20
				# }
			# }
			# modifier = {
				# factor = 1.5
				# OR = {
					# ruler_has_personality = naive_personality 
				# }
			# }
		# }
		
		# #Costs
		# add_adm_power = -150
		# add_dip_power = -150
		# add_mil_power = -150
		
		# #Effects
		# magic_casted_spell = yes
		# casted_foresight_spell_flag = yes
		# apply_foresight_spell = yes
	# }
	
	# option = {	#Option B: Go back
		# name = magic_siege.goback
		# ai_chance = {
			# factor = 5
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
# }

# # 4 - Summon Patron
# country_event = {
	# id = magic_realm_divination.4
	# title = magic_realm_divination.4.t
	# desc = magic_realm_divination.4.d
	# picture = wihgfx_FEMALES_eventPicture
	
	# is_triggered_only = yes
	
	# option = {
		# name = magic_realm_project_in_progress.0.a
		# trigger = {
			# has_ruler_flag = magic_project_summoning_started
		# }
		
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }

	# option = {
		# name = magic_realm_project_in_progress.0.b
		# trigger = {
			# has_ruler_flag = magic_project_summoning_complete
		# }
		
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }

	# option = {
		# name = magic_realm_project_in_progress.0.c
		# trigger = {
			# magical_project_in_progress = yes
			# NOT = { has_ruler_flag = magic_project_summoning_started }
		# }
		
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }

	# option = {
		# name = magic_realm_divination.4.cost
		# trigger = {
			# OR = {
				# NOT = { adm_power = 50 }
				# NOT = { dip_power = 50 }
				# NOT = { mil_power = 50 }
			# }
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
	
	# option = {	#Perform Patron Summoning
		# name = magic_realm_divination.4.a
		# trigger = {
			# OR = {
				# has_ruler_flag = divination_3
				# AND = {
					# has_ruler_flag = divination_2
					# has_ruler_flag = conjuration_2
				# }
			# }
			# adm_power = 50
			# dip_power = 50
			# mil_power = 50
			# NOT = { magical_project_in_progress = yes }
		# }
		# ai_chance = {
			# factor = 50
			# modifier = {
				# factor = 0
				# NOT = { adm_power = 50 }
				# NOT = { dip_power = 50 }
				# NOT = { mil_power = 50 }
			# }
		# }
		
		# #Cost
		# add_adm_power = -50
		# add_dip_power = -50
		# add_mil_power = -50
		
		# #Effect
		# magic_casted_spell = yes
		
		# set_ruler_flag = magic_project_summoning_started
		# custom_tooltip = tooltip_magic_project_start
		# hidden_effect = { 
			# ROOT = { 
				# country_event = { 
					# id = magic_project_summoning.1 
					# days = 3 
				# } 
			# } 
			# close_single_menu = yes
		# }
		
		# # increase_witch_king_points_medium = yes
	# }
	
	# option = {	#Option B: Go back
		# name = magic_siege.goback
		# ai_chance = {
			# factor = 5
		# }
		# if = {
			# limit = {
				# ai = yes	#makes ai back out of casting completely to prevent spam
			# }
			# add_ruler_modifier = { 
				# name = magic_realm_menu_cooldown
				# duration = 1825	#prevents them casting for 5 years
				# hidden = yes
			# }
			# close_single_menu = yes
		# }
		# else = {
			# country_event = { id = magic_realm_divination.0 }
		# }
	# }
# }