

namespace = flavour_wyvernheart

#Dynasty Naming
country_event = {
	id = flavour_wyvernheart.1
	title = dynasty_setup.1.t
	desc = dynasty_setup.1.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = COURT_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Rights of Man"
		}
		picture = ROYAL_COUPLE_FUTURE_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {		
		name = "flavour_wyvernheart.1.a"
		ai_chance = { factor = 40 }	
		define_heir = {
			dynasty = "síl Wyvernheart"
			age = 16
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			hide_skills = yes
		}
	}
	
	#Option B
	option = {		
		name = "flavour_wyvernheart.1.b"
		ai_chance = { factor = 40 }	
		define_heir = {
			dynasty = "Wyvernheart"	#of the crossing
			age = 16
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			hide_skills = yes
		}
	}
}

country_event = {#A Beast Unlike Any Other C4
	id = flavour_wyvernheart.100
	title = flavour_wyvernheart.100.t
	desc = flavour_wyvernheart.100.d
	picture = BAD_WITH_MONARCH_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.100.a"
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = wyvernheart_monsterized_army
			duration = -1
		}
		hidden_effect = {
			set_country_flag = wyvernheart_burnblood_1
		}
		custom_tooltip = wyvernheart_C4_event_tt


		large_decrease_of_half_orcish_tolerance_effect = yes
		large_decrease_of_orcish_tolerance_effect = yes
		large_decrease_of_goblin_tolerance_effect = yes
	}
}
country_event = {#Rumours of Power A7
	id = flavour_wyvernheart.101
	title = flavour_wyvernheart.101.t
	desc = flavour_wyvernheart.101.d
	picture = THE_COVENANT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	immediate = {
		hidden_effect = {
			set_saved_name = {
				key = noblezealot
				type = simple
				name = "Xalmos, fist of Kazraiel"
			}
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.101.a"
		ai_chance = { factor = 1 }
		trigger = {
			NOT = { religion = infernal_court }
		}
		227 = {
			change_trade_goods = gems
			add_province_modifier = {
				name = wyvernheart_infernal_bleed
				duration = -1
			}
			add_province_modifier = {
				name = wyvernheart_burnblood_spawning_pool
				duration = -1
			}
			spawn_rebels = {
				size = 3
				leader = noblezealot
				type = infernal_court_rebels
			}
		}
		custom_tooltip = wyvernheart_E5_3_effect_tt
		hidden_effect = {
			for = {
				amount = 20
				effect = "
					if = {
						limit = {
							any_owned_province = {
								has_orcish_minority_trigger = yes
							}
						}
						random_owned_province = {
							limit = {
								has_orcish_minority_trigger = yes
							}
							remove_orcish_minority_size_effect = yes
						}
					}
					else = {
						add_treasury = -25
						216 = { owner = { add_treasury = 25 } }
					}
				"
			}
		}

		
		large_decrease_of_half_orcish_tolerance_effect = yes
		large_decrease_of_orcish_tolerance_effect = yes
		large_decrease_of_goblin_tolerance_effect = yes

		increase_witch_king_points_large = yes
	}
	option = {
		name = "flavour_wyvernheart.101.b"
		ai_chance = { factor = 1 }
		trigger = {
			NOT = { religion = infernal_court }
		}
		change_religion = infernal_court
		add_stability = -2
		add_country_modifier = {
			name = wyvernheart_khizriel_leads_the_way
			duration = 3650
		}
		227 = {
			change_trade_goods = gems
			add_province_modifier = {
				name = wyvernheart_infernal_bleed
				duration = -1
			}
			add_province_modifier = {
				name = wyvernheart_burnblood_spawning_pool
				duration = -1
			}
			custom_tooltip = wyvernheart_E5_3_effect_tt
			hidden_effect = {
				for = {
					amount = 20
					effect = "
						if = {
							limit = {
								any_owned_province = {
									has_orcish_minority_trigger = yes
								}
							}
							random_owned_province = {
								limit = {
									has_orcish_minority_trigger = yes
								}
								remove_orcish_minority_size_effect = yes
							}
						}
						else = {
							add_treasury = -25
							216 = { owner = { add_treasury = 25 } }
						}
					"
				}
			}
		}

		
		large_decrease_of_half_orcish_tolerance_effect = yes
		large_decrease_of_orcish_tolerance_effect = yes
		large_decrease_of_goblin_tolerance_effect = yes

		increase_witch_king_points_large = yes
	}
	option = {
		name = "flavour_wyvernheart.101.c"
		ai_chance = { factor = 1 }
		trigger = {
			religion = infernal_court
		}
		highlight = yes
		add_legitimacy = 15
		227 = {
			change_trade_goods = gems
			add_province_modifier = {
				name = wyvernheart_infernal_bleed
				duration = -1
			}
			add_province_modifier = {
				name = wyvernheart_burnblood_spawning_pool
				duration = -1
			}
		}
		custom_tooltip = wyvernheart_E5_3_effect_tt
		hidden_effect = {
			for = {
				amount = 20
				effect = "
					if = {
						limit = {
							any_owned_province = {
								has_orcish_minority_trigger = yes
							}
						}
						random_owned_province = {
							limit = {
								has_orcish_minority_trigger = yes
							}
							remove_orcish_minority_size_effect = yes
						}
					}
					else = {
						add_treasury = -25
						216 = { owner = { add_treasury = 25 } }
					}
				"
			}
		}

		
		large_decrease_of_half_orcish_tolerance_effect = yes
		large_decrease_of_orcish_tolerance_effect = yes
		large_decrease_of_goblin_tolerance_effect = yes

		increase_witch_king_points_large = yes
	}
}
country_event = {#A Tower on High B3
	id = flavour_wyvernheart.102
	title = flavour_wyvernheart.102.t
	desc = flavour_wyvernheart.102.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Lions of the North" }
		}
		picture = EP_ISLAND_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Lions of the North"
		}
		picture = FROZEN_VILLAGE_eventPicture
	}

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.102.a"
		ai_chance = { factor = 1 }
		add_prestige = 10
		add_estate_loyalty_modifier = {
			estate = estate_mages
			desc = wyvernheart_invested_in_mages
			loyalty = 20
			duration = 7300
		}
		add_estate_influence_modifier = {
			estate = estate_mages
			influence = 20
			desc = wyvernheart_invested_in_mages
			duration = 7300
		}
		country_event = {
			id = flavour_wyvernheart.103
			days = 1825
		}
	}
}
country_event = {#A Grand Breakthrough B3
	id = flavour_wyvernheart.103
	title = flavour_wyvernheart.103.t
	desc = flavour_wyvernheart.103.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.103.a"
		ai_chance = { factor = 1 }
		custom_tooltip = wyvernheart_event103_tt
		set_country_flag = wyvernheart_research_finished
	}
}
country_event = {#The New Face of Magic D5
	id = flavour_wyvernheart.104
	title = flavour_wyvernheart.104.t
	desc = flavour_wyvernheart.104.d
	picture = REFORM_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}

	immediate = {
		hidden_effect = {
			generic_end_purge = { race = goblin }
			generic_end_expulsion = { race = goblin }
			generic_end_purge = { race = orcish  }
			generic_end_expulsion = { race = orcish }
			generic_end_purge = { race = half_orcish }
			generic_end_expulsion = { race = half_orcish }
		}
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.104.a"
		ai_chance = { factor = 1 }
		if = {
			limit = { government = monarchy }
			add_government_reform = floodborn_council_reform
		}
		custom_tooltip = wyvernheart_D5_event_tt
		hidden_effect = {
			set_country_flag = floodborn_council_rename
			country_event = {#Prerolls schools for the third button
				id = flavour_wyvernheart.501
			}
		}
		set_estate_privilege = estate_wyvernheart_floodborn_council
		add_stability = -1
		increase_witch_king_points_small = yes
	}
}
country_event = {#A Morbid Fascination E5.1
	id = flavour_wyvernheart.105
	title = flavour_wyvernheart.105.t
	desc = flavour_wyvernheart.105.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Lions of the North" }
		}
		picture = EP_ISLAND_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Lions of the North"
		}
		picture = FORESTS_eventPicture
	}

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.105.a"
		ai_chance = { factor = 1 }
		add_treasury = -100
		add_mil_power = -50
		country_event = {
			id = flavour_wyvernheart.106
			days = 180
		}
	}
}
country_event = {#The Means of Experimentation E5.2
	id = flavour_wyvernheart.106
	title = flavour_wyvernheart.106.t
	desc = flavour_wyvernheart.106.d
	picture = BATTLE_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.106.a"
		ai_chance = { factor = 1 }
		if = {
			limit = { 840 = { owned_by = ROOT } }
			840 = {
				spawn_rebels = {
					size = 1
					type = wyverns_rebels
				}
			}
		}
		else = {
			729 = {
				spawn_rebels = {
					size = 1
					type = wyverns_rebels
				}
			}
		}
		country_event = {
			id = flavour_wyvernheart.107
			days = 365
		}
	}
}
country_event = {#A Wyvern's Heart Pumping Burning Blood E5.3
	id = flavour_wyvernheart.107
	title = flavour_wyvernheart.107.t
	desc = flavour_wyvernheart.107.d
	picture = SPELL_LIST_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.107.a"
		ai_chance = { factor = 1 }
		728 = {
			add_province_modifier = {
				name = wyvernheart_burnblood_spawning_pool
				duration = -1
			}
		}
		custom_tooltip = wyvernheart_E5_3_effect_tt
		hidden_effect = {
			for = {
				amount = 20
				effect = "
					if = {
						limit = {
							any_owned_province = {
								has_orcish_minority_trigger = yes
							}
						}
						random_owned_province = {
							limit = {
								has_orcish_minority_trigger = yes
							}
							remove_orcish_minority_size_effect = yes
						}
					}
					else = {
						add_treasury = -25
						216 = { owner = { add_treasury = 25 } }
					}
				"
			}
		}
		custom_tooltip = wyvernheart_cleanse_burnblood_generation_tt
		random_hired_mercenary_company = {
			limit = { template = merc_wyvernheart_burnblood_company_1 }
			disband_mercenary_company = THIS
		}
		add_treasury = 25
		set_country_flag = wyvernheart_burnblood_2
		clr_country_flag = wyvernheart_burnblood_1
		custom_tooltip = wyvernheart_E5_effect_tt
	}
}
country_event = {#Raiding the Citadel C8.1
	id = flavour_wyvernheart.108
	title = flavour_wyvernheart.108.t
	desc = flavour_wyvernheart.108.d
	picture = FIREBALL_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.108.a"
		ai_chance = { factor = 1 }
		840 = {
			spawn_rebels = {
				size = 3
				type = wyverns_rebels
			}
			add_devastation = 20
		}
		country_event = {
			id = flavour_wyvernheart.109
			days = 180
		}
	}
}
country_event = {#Greater than the Sum of its Parts C8.2
	id = flavour_wyvernheart.109
	title = flavour_wyvernheart.109.t
	desc = flavour_wyvernheart.109.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.109.a"
		ai_chance = { factor = 1 }
		custom_tooltip = wyvernheart_cleanse_burnblood_generation_tt
		random_hired_mercenary_company = {
			limit = { template = merc_wyvernheart_burnblood_company_3_1 }
			disband_mercenary_company = THIS
		}
		random_hired_mercenary_company = {
			limit = { template = merc_wyvernheart_burnblood_company_3_2 }
			disband_mercenary_company = THIS
		}
		add_treasury = 50
		clr_country_flag = wyvernheart_burnblood_3
		set_country_flag = wyvernheart_burnblood_4
		custom_tooltip = wyvernheart_C8_event_tt
		add_splendor = 200
		add_prestige = 20
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 20
		}
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = 20
		}
		increase_witch_king_points_large = yes
	}
}
country_event = {#The Castanbane Meteor
	id = flavour_wyvernheart.110
	title = flavour_wyvernheart.110.t
	desc = flavour_wyvernheart.110.d
	picture = BIG_STAR_IN_SKY_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.110.a"
		ai_chance = { factor = 1 }
		set_country_flag = destroyed_the_trialmount
		840 = {
			change_trade_goods = damestear
			set_province_flag = permanent_damestear
			if = {
				limit = { ROOT = { has_ruler_flag = abjuration_3 } }
				add_devastation = 25
				add_base_manpower = -4
				add_base_production = -4
				add_base_tax = -4
			}
			else_if = {
				limit = { ROOT = { has_ruler_flag = abjuration_2 } }
				add_devastation = 50
				add_base_manpower = -6
				add_base_production = -6
				add_base_tax = -6
			}
			else_if = {
				limit = { ROOT = { has_ruler_flag = abjuration_1 } }
				add_devastation = 75
				add_base_manpower = -8
				add_base_production = -8
				add_base_tax = -8
			}
			else = {
				add_devastation = 100
				add_base_manpower = -10
				add_base_production = -10 
				add_base_tax = -10
			}
		}
		if = {
			limit = { has_ruler_flag = transmutation_3 }
			add_adm_power = -25
		}
		else_if = {
			limit = { has_ruler_flag = transmutation_2 }
			add_adm_power = -50
		}
		else_if = {
			limit = { has_ruler_flag = transmutation_1 }
			add_adm_power = -75
		}
		else = {
			add_adm_power = -100
		}
		if = {
			limit = { has_ruler_flag = enchantment_3 }
			add_dip_power = -25
		}
		else_if = {
			limit = { has_ruler_flag = enchantment_2 }
			add_dip_power = -50
		}
		else_if = {
			limit = { has_ruler_flag = enchantment_1 }
			add_dip_power = -75
		}
		else = {
			add_dip_power = -100
		}
		if = {
			limit = { has_ruler_flag = conjuration_3 }
			add_treasury = -500
		}
		else_if = {
			limit = { has_ruler_flag = conjuration_2 }
			add_treasury = -750
		}
		else_if = {
			limit = { has_ruler_flag = conjuration_1 }
			add_treasury = -1000
		}
		else = {
			add_treasury = -2000
		}
		add_permanent_power_projection = {
			type = 10_permanent_power_projection
			amount = 10
		}
		custom_tooltip = wyvernheart_no_more_castanor

		increase_witch_king_points_large = yes #3
		hidden_effect = {
			increase_witch_king_points_large = yes #3
		}
	}
}
country_event = {#Magic and Artificery unbound
	id = flavour_wyvernheart.111
	title = flavour_wyvernheart.111.t
	desc = flavour_wyvernheart.111.d
	picture = THE_COVENANT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.111.a"
		ai_chance = { factor = 1 }
		custom_tooltip = wyvernheart_B9_event_tt #rulers defined as war-wizard are considered to have +1 mil, war wizard generated with imbue mage have +1 fire and siege 
		set_country_flag = wyvernheart_bioimproved_mages_results
		define_general = { #MAGICREWORK
			shock = 8
			fire = 3
			manuever = 2
			siege = 4 
			name = "Guillam 'the First'"
			trait = war_wizard_personality
		}
	}
}
country_event = {#Calm After the Storm
	id = flavour_wyvernheart.112
	title = flavour_wyvernheart.112.t
	desc = {
		trigger = {
			has_ruler_flag = wyvernheart_the_regent
		}
		desc = flavour_wyvernheart.112.d
	}
	desc = {
		trigger = {
			NOT = { has_ruler_flag = wyvernheart_the_regent }
		}
		desc = flavour_wyvernheart.112.d2
	}
	picture = WOUNDED_SOLDIERS_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.112.a"
		ai_chance = { factor = 1 }
		trigger = {
			has_ruler_flag = wyvernheart_the_regent
		}
		add_stability_or_adm_power = yes
		add_devotion = 20
		custom_tooltip = wyvernheart_A9_event_tt
		set_country_flag = had_court_and_country
		if = {
			limit = {
				has_country_modifier = wyvernheart_victory_or_death
				has_ruler_flag = wyvernheart_the_regent
			}
			add_country_modifier = {
				name = wyvernheart_tyrants_rise
				duration = -1
			}
		}
		swap_non_generic_missions = yes
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.112.b"
		ai_chance = { factor = 1 }
		trigger = {
			NOT = { has_ruler_flag = wyvernheart_the_regent }
		}
		add_stability_or_adm_power = yes
		add_devotion = 20
		custom_tooltip = wyvernheart_A9_event_tt
		set_country_flag = had_court_and_country
		swap_non_generic_missions = yes
	}
}
country_event = {#The Heart of Halann
	id = flavour_wyvernheart.113
	title = flavour_wyvernheart.113.t
	desc = flavour_wyvernheart.113.d
	picture = FAR_AND_WIDE_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.113.a"
		ai_chance = { factor = 1 }
		add_splendor = 300
		add_estate_loyalty = {
			estate = all
			loyalty = 20
		}
		add_country_modifier = {
			name = wyvernheart_along_the_vessels
			duration = -1
		}
	}
}
province_event = {#Free Core from gov mechanic
	id = flavour_wyvernheart.114
	title = flavour_wyvernheart.114.t
	desc = flavour_wyvernheart.114.d
	picture = GENERALS_DISCUSSING_eventPicture

	is_triggered_only = yes
	
	trigger = {
		owner = {
			is_or_was_tag = { tag = B39 }
		}
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.114.a"
		ai_chance = { factor = 1 }
		add_core = owner
		add_random_development = -3
		add_nationalism = -30
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.114.b"
		ai_chance = { factor = 1 }
	}
}
country_event = {#Select region for Overseer
	id = flavour_wyvernheart.115
	title = flavour_wyvernheart.115.t
	desc = flavour_wyvernheart.115.d
	picture = GENERALS_DISCUSSING_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}
	
	#Alenic Reach
	option = {
		name = "flavour_wyvernheart.115.a"
		ai_chance = { factor = 1 }
		trigger = {
			any_owned_province = { region = alenic_reach_region }
			701 = {
				NOT = {
					has_province_modifier = wyvernheart_hardliner_seat
					has_province_modifier = wyvernheart_technocratic_seat
					has_province_modifier = wyvernheart_heartmage_seat
					has_province_modifier = wyvernheart_devout_seat
					has_province_modifier = wyvernheart_wealthy_seat
					has_province_modifier = wyvernheart_ambitious_seat
				}
			}
		}
		random_owned_province = {
			limit = { region = alenic_reach_region }
			save_event_target_as = wyvernheart_overseer_target
		}
		701 = {
			save_event_target_as = wyvernheart_overseer_target_timer
		}
		if = {
			limit = {
				NOT = { has_country_flag = wyvernheart_victory_or_death_happened }
			}
			custom_tooltip = wyvernheart_overseer_effect_desc
		}
		country_event = {
			id = flavour_wyvernheart.116
		}
	}
	#Alenic Frontier
	option = {
		name = "flavour_wyvernheart.115.b"
		ai_chance = { factor = 1 }
		trigger = {
			any_owned_province = { region = alenic_frontier_region }
			227 = {
				NOT = {
					has_province_modifier = wyvernheart_hardliner_seat
					has_province_modifier = wyvernheart_technocratic_seat
					has_province_modifier = wyvernheart_heartmage_seat
					has_province_modifier = wyvernheart_devout_seat
					has_province_modifier = wyvernheart_wealthy_seat
					has_province_modifier = wyvernheart_ambitious_seat
				}
			}
		}
		random_owned_province = {
			limit = { region = alenic_frontier_region }
			save_event_target_as = wyvernheart_overseer_target
		}
		227 = {
			save_event_target_as = wyvernheart_overseer_target_timer
		}
		if = {
			limit = {
				NOT = { has_country_flag = wyvernheart_victory_or_death_happened }
			}
			custom_tooltip = wyvernheart_overseer_effect_desc
		}
		country_event = {
			id = flavour_wyvernheart.116
		}
	}
	#West Castanor
	option = {
		name = "flavour_wyvernheart.115.c"
		ai_chance = { factor = 1 }
		trigger = {
			any_owned_province = { region = west_castanor_region }
			728 = {
				NOT = {
					has_province_modifier = wyvernheart_hardliner_seat
					has_province_modifier = wyvernheart_technocratic_seat
					has_province_modifier = wyvernheart_heartmage_seat
					has_province_modifier = wyvernheart_devout_seat
					has_province_modifier = wyvernheart_wealthy_seat
					has_province_modifier = wyvernheart_ambitious_seat
				}
			}
		}
		random_owned_province = {
			limit = { region = west_castanor_region }
			save_event_target_as = wyvernheart_overseer_target
		}
		728 = {
			save_event_target_as = wyvernheart_overseer_target_timer
		}
		if = {
			limit = {
				NOT = { has_country_flag = wyvernheart_victory_or_death_happened }
			}
			custom_tooltip = wyvernheart_overseer_effect_desc
		}
		country_event = {
			id = flavour_wyvernheart.116
		}
	}
	#Forlorn Vale
	option = {
		name = "flavour_wyvernheart.115.e"
		ai_chance = { factor = 1 }
		trigger = {
			any_owned_province = { region = forlorn_vale_region }
			777 = {
				NOT = {
					has_province_modifier = wyvernheart_hardliner_seat
					has_province_modifier = wyvernheart_technocratic_seat
					has_province_modifier = wyvernheart_heartmage_seat
					has_province_modifier = wyvernheart_devout_seat
					has_province_modifier = wyvernheart_wealthy_seat
					has_province_modifier = wyvernheart_ambitious_seat
				}
			}
		}
		random_owned_province = {
			limit = { region = forlorn_vale_region }
			save_event_target_as = wyvernheart_overseer_target
		}
		777 = {
			save_event_target_as = wyvernheart_overseer_target_timer
		}
		if = {
			limit = {
				NOT = { has_country_flag = wyvernheart_victory_or_death_happened }
			}
			custom_tooltip = wyvernheart_overseer_effect_desc
		}
		country_event = {
			id = flavour_wyvernheart.116
		}
	}
	#Inner Castanor
	option = {
		name = "flavour_wyvernheart.115.f"
		ai_chance = { factor = 1 }
		trigger = {
			any_owned_province = { region = inner_castanor_region }
			840 = {
				NOT = {
					has_province_modifier = wyvernheart_hardliner_seat
					has_province_modifier = wyvernheart_technocratic_seat
					has_province_modifier = wyvernheart_heartmage_seat
					has_province_modifier = wyvernheart_devout_seat
					has_province_modifier = wyvernheart_wealthy_seat
					has_province_modifier = wyvernheart_ambitious_seat
				}
			}
		}
		random_owned_province = {
			limit = { region = inner_castanor_region }
			save_event_target_as = wyvernheart_overseer_target
		}
		840 = {
			save_event_target_as = wyvernheart_overseer_target_timer
		}
		if = {
			limit = {
				NOT = { has_country_flag = wyvernheart_victory_or_death_happened }
			}
			custom_tooltip = wyvernheart_overseer_effect_desc
		}
		country_event = {
			id = flavour_wyvernheart.116
		}
	}
	#South Castanor
	option = {
		name = "flavour_wyvernheart.115.g"
		ai_chance = { factor = 1 }
		trigger = {
			any_owned_province = { region = south_castanor_region }
			817 = {
				NOT = {
					has_province_modifier = wyvernheart_hardliner_seat
					has_province_modifier = wyvernheart_technocratic_seat
					has_province_modifier = wyvernheart_heartmage_seat
					has_province_modifier = wyvernheart_devout_seat
					has_province_modifier = wyvernheart_wealthy_seat
					has_province_modifier = wyvernheart_ambitious_seat
				}
			}
		}
		random_owned_province = {
			limit = { region = south_castanor_region }
			save_event_target_as = wyvernheart_overseer_target
		}
		817 = {
			save_event_target_as = wyvernheart_overseer_target_timer
		}
		if = {
			limit = {
				NOT = { has_country_flag = wyvernheart_victory_or_death_happened }
			}
			custom_tooltip = wyvernheart_overseer_effect_desc
		}
		country_event = {
			id = flavour_wyvernheart.116
		}
	}
	#Go Back
	option = {
		name = "flavour_wyvernheart.115.h"
		ai_chance = { factor = 1 }
		add_government_power = {
			mechanic_type = floodborn_council_mechanic
			power_type = bloodbrand_power
			value = 60
		}
	}
}
country_event = {#Select clique for Overseer
	id = flavour_wyvernheart.116
	title = flavour_wyvernheart.116.t
	desc = flavour_wyvernheart.116.d
	picture = DIPLOMACY_SIGNING_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	immediate = {
		hidden_effect = {
			set_saved_name = {
				key = wyvernheart_mage
				type = simple
				name = "§TFactional§! Overseer"
			}
			if = {
				limit = { check_variable = { which = pointsWitchKing value = 26 } }
				add_estate_loyalty = {
					estate = estate_mages
					loyalty = 10
				}
				add_estate_loyalty = {
					estate = estate_acolytes
					loyalty = 10
				}
				take_estate_land_share_medium = { estate = all } #2%
				if = {
					limit = { NOT = { has_ruler_modifier = witch_king_modifier } } #MAGICREWORK
					country_event = {
						id =  witch_king.0
					}
				}
			}
			else = { increase_witch_king_points_medium = yes } #2 points
		}
	}
	
	#Harliner
	option = {
		name = "flavour_wyvernheart.116.a"
		ai_chance = { factor = 1 }
		trigger = {
			701 = { NOT = { has_province_modifier = wyvernheart_hardliner_seat } }
			728 = { NOT = { has_province_modifier = wyvernheart_hardliner_seat } }
			227 = { NOT = { has_province_modifier = wyvernheart_hardliner_seat } }
			777 = { NOT = { has_province_modifier = wyvernheart_hardliner_seat } }
			840 = { NOT = { has_province_modifier = wyvernheart_hardliner_seat } }
			817 = { NOT = { has_province_modifier = wyvernheart_hardliner_seat } }
		}
		hidden_effect = {
			event_target:wyvernheart_overseer_target_timer = {
				add_province_modifier = {
					name = wyvernheart_hardliner_seat
					duration = 7300
					hidden = yes
				}
			}
		}
		if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 701 } }
			
			alenic_reach_region = {
				limit = { owned_by = ROOT }
				hidden_effect = {
					if = { limit = { local_autonomy = 15 } add_local_autonomy = -30 }
					else = { add_nationalism = -10 }
				}
				custom_tooltip = wyvernheart_appoint_hardliner_nationalism_tt
			}
			add_rebel_progress = { value = -10 }
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 728 } }
			west_castanor_region = {
				limit = { owned_by = ROOT }
				hidden_effect = {
					if = { limit = { local_autonomy = 15 } add_local_autonomy = -30 }
					else = { add_nationalism = -10 }
				}
				custom_tooltip = wyvernheart_appoint_hardliner_nationalism_tt
			}
			add_rebel_progress = { value = -10 }
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 227 } }
			alenic_frontier_region = {
				limit = { owned_by = ROOT }
				hidden_effect = {
					if = { limit = { local_autonomy = 15 } add_local_autonomy = -30 }
					else = { add_nationalism = -10 }
				}
				custom_tooltip = wyvernheart_appoint_hardliner_nationalism_tt
			}
			add_rebel_progress = { value = -10 }
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 777 } }
			forlorn_vale_region = {
				limit = { owned_by = ROOT }
				hidden_effect = {
					if = { limit = { local_autonomy = 15 } add_local_autonomy = -30 }
					else = { add_nationalism = -10 }
				}
				custom_tooltip = wyvernheart_appoint_hardliner_nationalism_tt
			}
			add_rebel_progress = { value = -10 }
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 840 } }
			inner_castanor_region = {
				limit = { owned_by = ROOT }
				hidden_effect = {
					if = { limit = { local_autonomy = 15 } add_local_autonomy = -30 }
					else = { add_nationalism = -10 }
				}
				custom_tooltip = wyvernheart_appoint_hardliner_nationalism_tt
			}
			add_rebel_progress = { value = -10 }
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 817 } }
			south_castanor_region = {
				limit = { owned_by = ROOT }
				hidden_effect = {
					if = { limit = { local_autonomy = 15 } add_local_autonomy = -30 }
					else = { add_nationalism = -10 }
				}
				custom_tooltip = wyvernheart_appoint_hardliner_nationalism_tt
			}
			add_rebel_progress = { value = -10 }
		}
		set_saved_name = {
			key = wyvernheart_mage
			type = simple
			name = "Hardliner Overseer"
		}
		wyvernheart_define_war_wizard = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.500
				days = 7300
			}
		}
	}
	#Technocrat
	option = {
		name = "flavour_wyvernheart.116.b"
		ai_chance = { factor = 1 }
		trigger = {
			701 = { NOT = { has_province_modifier = wyvernheart_technocratic_seat } }
			728 = { NOT = { has_province_modifier = wyvernheart_technocratic_seat } }
			227 = { NOT = { has_province_modifier = wyvernheart_technocratic_seat } }
			777 = { NOT = { has_province_modifier = wyvernheart_technocratic_seat } }
			840 = { NOT = { has_province_modifier = wyvernheart_technocratic_seat } }
			817 = { NOT = { has_province_modifier = wyvernheart_technocratic_seat } }
		}
		hidden_effect = {
			event_target:wyvernheart_overseer_target_timer = {
				add_province_modifier = {
					name = wyvernheart_technocratic_seat
					duration = 7300
					hidden = yes
				}
			}
		}
		event_target:wyvernheart_overseer_target = {
			add_province_modifier = {
				name = wyvernheart_technocratic_seat_mod
				duration = 7300
			}
		}
		if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 701 } }
			alenic_reach_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 728 } }
			west_castanor_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 227 } }
			alenic_frontier_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 777 } }
			forlorn_vale_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 840 } }
			inner_castanor_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 817 } }
			south_castanor_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
		}
		set_saved_name = {
			key = wyvernheart_mage
			type = simple
			name = "Technocrat Overseer"
		}
		wyvernheart_define_war_wizard = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.500
				days = 7300
			}
		}
	}
	#Heartmage
	option = {
		name = "flavour_wyvernheart.116.c"
		ai_chance = { factor = 1 }
		trigger = {
			701 = { NOT = { has_province_modifier = wyvernheart_heartmage_seat } }
			728 = { NOT = { has_province_modifier = wyvernheart_heartmage_seat } }
			227 = { NOT = { has_province_modifier = wyvernheart_heartmage_seat } }
			777 = { NOT = { has_province_modifier = wyvernheart_heartmage_seat } }
			840 = { NOT = { has_province_modifier = wyvernheart_heartmage_seat } }
			817 = { NOT = { has_province_modifier = wyvernheart_heartmage_seat } }
		}
		hidden_effect = {
			event_target:wyvernheart_overseer_target_timer = {
				add_province_modifier = {
					name = wyvernheart_heartmage_seat
					duration = 7300
					hidden = yes
				}
			}
		}
		if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 701 } }
			alenic_reach_region = {
				limit = { owned_by = ROOT }
				if = {
					limit = { devastation = 5 }
					add_devastation = -5
				}
				else = {
					add_prosperity = 5
				}
				if = {
					limit = { area_for_scope_province = { is_prosperous = yes } }
					random = {
						chance = 17
						add_random_development = 1
					}
				}
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 728 } }
			west_castanor_region = {
				limit = { owned_by = ROOT }
				if = {
					limit = { devastation = 5 }
					add_devastation = -5
				}
				else = {
					add_prosperity = 5
				}
				if = {
					limit = { area_for_scope_province = { is_prosperous = yes } }
					random = {
						chance = 17
						add_random_development = 1
					}
				}
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 227 } }
			alenic_frontier_region = {
				limit = { owned_by = ROOT }
				if = {
					limit = { devastation = 5 }
					add_devastation = -5
				}
				else = {
					add_prosperity = 5
				}
				if = {
					limit = { area_for_scope_province = { is_prosperous = yes } }
					random = {
						chance = 17
						add_random_development = 1
					}
				}
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 777 } }
			forlorn_vale_region = {
				limit = { owned_by = ROOT }
				if = {
					limit = { devastation = 5 }
					add_devastation = -5
				}
				else = {
					add_prosperity = 5
				}
				if = {
					limit = { area_for_scope_province = { is_prosperous = yes } }
					random = {
						chance = 17
						add_random_development = 1
					}
				}
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 840 } }
			inner_castanor_region = {
				limit = { owned_by = ROOT }
				if = {
					limit = { devastation = 5 }
					add_devastation = -5
				}
				else = {
					add_prosperity = 5
				}
				if = {
					limit = { area_for_scope_province = { is_prosperous = yes } }
					random = {
						chance = 17
						add_random_development = 1
					}
				}
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 817 } }
			south_castanor_region = {
				limit = { owned_by = ROOT }
				if = {
					limit = { devastation = 5 }
					add_devastation = -5
				}
				else = {
					add_prosperity = 5
				}
				if = {
					limit = { area_for_scope_province = { is_prosperous = yes } }
					random = {
						chance = 17
						add_random_development = 1
					}
				}
			}
		}
		set_saved_name = {
			key = wyvernheart_mage
			type = simple
			name = "Heartmage Overseer"
		}
		wyvernheart_define_war_wizard = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.500
				days = 7300
			}
		}
	}
	#Devout
	option = {
		name = "flavour_wyvernheart.116.e"
		ai_chance = { factor = 1 }
		trigger = {
			701 = { NOT = { has_province_modifier = wyvernheart_devout_seat } }
			728 = { NOT = { has_province_modifier = wyvernheart_devout_seat } }
			227 = { NOT = { has_province_modifier = wyvernheart_devout_seat } }
			777 = { NOT = { has_province_modifier = wyvernheart_devout_seat } }
			840 = { NOT = { has_province_modifier = wyvernheart_devout_seat } }
			817 = { NOT = { has_province_modifier = wyvernheart_devout_seat } }
		}
		hidden_effect = {
			event_target:wyvernheart_overseer_target_timer = {
				add_province_modifier = {
					name = wyvernheart_devout_seat
					duration = 7300
					hidden = yes
				}
			}
		}
		event_target:wyvernheart_overseer_target = {
			add_province_modifier = {
				name = wyvernheart_devout_seat_mod
				duration = 7300
			}
		}
		if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 701 } }
			alenic_reach_region = {
				limit = { owned_by = ROOT }
				add_prosperity = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 728 } }
			west_castanor_region = {
				limit = { owned_by = ROOT }
				add_prosperity = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 227 } }
			alenic_frontier_region = {
				limit = { owned_by = ROOT }
				add_prosperity = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 777 } }
			forlorn_vale_region = {
				limit = { owned_by = ROOT }
				add_prosperity = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 840 } }
			inner_castanor_region = {
				limit = { owned_by = ROOT }
				add_prosperity = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 817 } }
			south_castanor_region = {
				limit = { owned_by = ROOT }
				add_prosperity = 5
			}
		}
		set_saved_name = {
			key = wyvernheart_mage
			type = simple
			name = "Devout Overseer"
		}
		wyvernheart_define_war_wizard = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.500
				days = 7300
			}
		}
	}
	#Wealthy
	option = {
		name = "flavour_wyvernheart.116.f"
		ai_chance = { factor = 1 }
		trigger = {
			701 = { NOT = { has_province_modifier = wyvernheart_wealthy_seat } }
			728 = { NOT = { has_province_modifier = wyvernheart_wealthy_seat } }
			227 = { NOT = { has_province_modifier = wyvernheart_wealthy_seat } }
			777 = { NOT = { has_province_modifier = wyvernheart_wealthy_seat } }
			840 = { NOT = { has_province_modifier = wyvernheart_wealthy_seat } }
			817 = { NOT = { has_province_modifier = wyvernheart_wealthy_seat } }
		}
		hidden_effect = {
			event_target:wyvernheart_overseer_target_timer = {
				add_province_modifier = {
					name = wyvernheart_wealthy_seat
					duration = 7300
					hidden = yes
				}
			}
		}
		if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 701 } }
			alenic_reach_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
			if = {
				limit = {
					alenic_reach_region = {
						owned_by = ROOT
						NOT = { has_building = mage_tower }
					}
				}
				alenic_reach_region = {
					type = random
					amount = 1
					limit = { NOT = { has_building = mage_tower } owned_by = ROOT }
					add_building_construction = {
						building = mage_tower
						cost = 0
						speed = 0.5
					}
				}
			}
			else = {
				alenic_reach_region = {
					type = random
					amount = 1
					limit = { owned_by = ROOT }
					add_base_production = 3
				}
			}
			add_mercantilism = 5
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 728 } }
			west_castanor_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
			if = {
				limit = {
					west_castanor_region = {
						owned_by = ROOT
						NOT = { has_building = mage_tower }
					}
				}
				west_castanor_region = {
					type = random
					amount = 1
					limit = { NOT = { has_building = mage_tower } owned_by = ROOT }
					add_building_construction = {
						building = mage_tower
						cost = 0
						speed = 0.5
					}
				}
			}
			else = {
				west_castanor_region = {
					type = random
					amount = 1
					limit = { owned_by = ROOT }
					add_base_production = 3
				}
			}
			add_mercantilism = 5
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 227 } }
			alenic_frontier_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
			if = {
				limit = {
					alenic_frontier_region = {
						owned_by = ROOT
						NOT = { has_building = mage_tower }
					}
				}
				alenic_frontier_region = {
					type = random
					amount = 1
					limit = { NOT = { has_building = mage_tower } owned_by = ROOT }
					add_building_construction = {
						building = mage_tower
						cost = 0
						speed = 0.5
					}
				}
			}
			else = {
				alenic_frontier_region = {
					type = random
					amount = 1
					limit = { owned_by = ROOT }
					add_base_production = 3
				}
			}
			add_mercantilism = 5
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 777 } }
			forlorn_vale_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
			if = {
				limit = {
					forlorn_vale_region = {
						owned_by = ROOT
						NOT = { has_building = mage_tower }
					}
				}
				forlorn_vale_region = {
					type = random
					amount = 1
					limit = { NOT = { has_building = mage_tower } owned_by = ROOT }
					add_building_construction = {
						building = mage_tower
						cost = 0
						speed = 0.5
					}
				}
			}
			else = {
				forlorn_vale_region = {
					type = random
					amount = 1
					limit = { owned_by = ROOT }
					add_base_production = 3
				}
			}
			add_mercantilism = 5
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 840 } }
			inner_castanor_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
			if = {
				limit = {
					inner_castanor_region = {
						owned_by = ROOT
						NOT = { has_building = mage_tower }
					}
				}
				inner_castanor_region = {
					type = random
					amount = 1
					limit = { NOT = { has_building = mage_tower } owned_by = ROOT }
					add_building_construction = {
						building = mage_tower
						cost = 0
						speed = 0.5
					}
				}
			}
			else = {
				inner_castanor_region = {
					type = random
					amount = 1
					limit = { owned_by = ROOT }
					add_base_production = 3
				}
			}
			add_mercantilism = 5
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 817 } }
			south_castanor_region = {
				limit = { owned_by = ROOT }
				add_nationalism = -2
			}
			if = {
				limit = {
					south_castanor_region = {
						owned_by = ROOT
						NOT = { has_building = mage_tower }
					}
				}
				south_castanor_region = {
					type = random
					amount = 1
					limit = { NOT = { has_building = mage_tower } owned_by = ROOT }
					add_building_construction = {
						building = mage_tower
						cost = 0
						speed = 0.5
					}
				}
			}
			else = {
				south_castanor_region = {
					type = random
					amount = 1
					limit = { owned_by = ROOT }
					add_base_production = 3
				}
			}
			add_mercantilism = 5
		}
		set_saved_name = {
			key = wyvernheart_mage
			type = simple
			name = "Wealthy Overseer"
		}
		wyvernheart_define_war_wizard = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.500
				days = 7300
			}
		}
	}
	#Ambitious
	option = {
		name = "flavour_wyvernheart.116.g"
		ai_chance = { factor = 1 }
		trigger = {
			701 = { NOT = { has_province_modifier = wyvernheart_ambitious_seat } }
			728 = { NOT = { has_province_modifier = wyvernheart_ambitious_seat } }
			227 = { NOT = { has_province_modifier = wyvernheart_ambitious_seat } }
			777 = { NOT = { has_province_modifier = wyvernheart_ambitious_seat } }
			840 = { NOT = { has_province_modifier = wyvernheart_ambitious_seat } }
			817 = { NOT = { has_province_modifier = wyvernheart_ambitious_seat } }
		}
		hidden_effect = {
			event_target:wyvernheart_overseer_target_timer = {
				add_province_modifier = {
					name = wyvernheart_ambitious_seat
					duration = 7300
					hidden = yes
				}
			}
		}
		event_target:wyvernheart_overseer_target = {
			add_province_modifier = {
				name = wyvernheart_ambitious_seat_mod
				duration = 7300
			}
		}
		if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 701 } }
			alenic_reach_region = {
				limit = { owned_by = ROOT }
				add_unrest = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 728 } }
			west_castanor_region = {
				limit = { owned_by = ROOT }
				add_unrest = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 227 } }
			alenic_frontier_region = {
				limit = { owned_by = ROOT }
				add_unrest = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 777 } }
			forlorn_vale_region = {
				limit = { owned_by = ROOT }
				add_unrest = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 840 } }
			inner_castanor_region = {
				limit = { owned_by = ROOT }
				add_unrest = 5
			}
		}
		else_if = {
			limit = { event_target:wyvernheart_overseer_target_timer = { province_id = 817 } }
			south_castanor_region = {
				limit = { owned_by = ROOT }
				add_unrest = 5
			}
		}
		
		set_saved_name = {
			key = wyvernheart_mage
			type = simple
			name = "Ambitious Overseer"
		}
		wyvernheart_define_war_wizard = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.500
				days = 7300
			}
		}
	}
}
country_event = {#The Scions of Wyvernheart
	id = flavour_wyvernheart.117
	title = flavour_wyvernheart.117.t
	desc = flavour_wyvernheart.117.d
	picture = DIPLOMACY_SIGNING_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	after = {
		hidden_effect = {
			if = {
				limit = { crown_land_share = 60 }
				add_government_power = {
					mechanic_type = floodborn_council_mechanic
					power_type = bloodbrand_power
					value = 20
				}
			}
			country_event = {#Prerolls schools for the third button
				id = flavour_wyvernheart.501
			}
			generic_end_purge = { race = goblin }
			generic_end_expulsion = { race = goblin }
			generic_end_purge = { race = orcish  }
			generic_end_expulsion = { race = orcish }
			generic_end_purge = { race = half_orcish }
			generic_end_expulsion = { race = half_orcish }
		}
	}

	
	option = {
		name = "flavour_wyvernheart.117.a"
		ai_chance = { factor = 1 }
		trigger = {
			NOT = {
				num_of_owned_provinces_with = {
					value = 20
					has_building = mage_tower
				}
			}
			NOT = { crown_land_share = 60 }
		}
		if = {
			limit = { NOT = { has_ruler_flag = wyvernheart_the_regent } }
			add_mil_power = -200
		}
		if = {
			limit = { NOT = { government = theocracy } }
			change_government = theocracy
			add_government_reform = magocracy_reform
		}
		set_country_flag = scions_completed
		add_government_reform = floodborn_council_reform_theocracy
		increase_witch_king_points_large = yes
	}
	option = {
		name = "flavour_wyvernheart.117.b"
		ai_chance = { factor = 1 }
		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				has_building = mage_tower
			}
			NOT = { crown_land_share = 60 }
		}
		if = {
			limit = { NOT = { has_ruler_flag = wyvernheart_the_regent } }
			add_mil_power = -200
		}
		if = {
			limit = { NOT = { government = theocracy } }
			change_government = theocracy
			add_government_reform = magocracy_reform
		}
		take_estate_land_share_gigantic = { estate = all } #10%
		set_country_flag = scions_completed
		add_government_reform = floodborn_council_reform_theocracy
		increase_witch_king_points_large = yes
	}
	option = {
		name = "flavour_wyvernheart.117.c"
		ai_chance = { factor = 1 }
		trigger = {
			crown_land_share = 60
		}
		if = {
			limit = { NOT = { has_ruler_flag = wyvernheart_the_regent } }
			add_mil_power = -200
		}
		if = {
			limit = { NOT = { government = theocracy } }
			change_government = theocracy
			add_government_reform = magocracy_reform
		}
		tooltip = {
			add_government_power = {
				mechanic_type = floodborn_council_mechanic
				power_type = bloodbrand_power
				value = 20
			}
		}
		set_country_flag = scions_completed
		add_government_reform = floodborn_council_reform_theocracy
		increase_witch_king_points_large = yes
	}
}

#200+ Civil war events - under on_province_culture_changed
country_event = {#The Promised Mage
	id = flavour_wyvernheart.200
	title = flavour_wyvernheart.200.t
	desc = flavour_wyvernheart.200.d
	picture = NEW_HEIR_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.200.a"
		ai_chance = { factor = 1 }
		define_heir = {
			adm = 5
			mil = 5
			dip = 5
			dynasty = ROOT
			age = 9
		}
		set_heir_mage_effect = yes
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.201
				days = 365
			}
		}
	}
}
country_event = {#A Simple Accident
	id = flavour_wyvernheart.201
	title = flavour_wyvernheart.201.t
	desc = flavour_wyvernheart.201.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Cradle of Civilization" }
		}
		picture = SPY_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Cradle of Civilization"
		}
		picture = THREE_HEIRS_eventPicture
	}

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { has_ruler_modifier = witch_king_modifier }
				set_country_flag = ruler_was_witchking
			}
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.201.a"
		ai_chance = { factor = 1 }
		define_ruler = {
			name = "The Regent"
			dynasty = "of Wyvernheart"
			adm = 4
			dip = 5
			mil = 6
			male = yes
			age = 25
			religion = ROOT
			culture = ROOT
		}
		set_ruler_flag = evocation_1
		add_ruler_personality = mage_personality
		if = {
			limit = {
				has_country_flag = ruler_was_witchking
			}
			add_ruler_modifier = {
				name = witch_king_modifier
			}
			clr_country_flag = ruler_was_witchking
		}
		custom_tooltip = wyvernheart_201_event_tt
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.202
				days = 365
			}
		}
	}
}
country_event = {#Tyrant's Fall
	id = flavour_wyvernheart.202
	title = flavour_wyvernheart.202.t
	desc = flavour_wyvernheart.202.d
	picture = DEFENESTRATION_PRAGUE_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	immediate = {
		hidden_effect = {
			spawn_wyvernheart_civil_war_rebels = { target_region = inner_castanor_region seat_id = 840 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = south_castanor_region seat_id = 817 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = west_castanor_region seat_id = 728 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_reach_region seat_id = 701 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_frontier_region seat_id = 227 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = forlorn_vale_region seat_id = 777 rebels = pretender_rebels }
			add_country_modifier = {
				name = wyvernheart_war_wizard_rebels_mod
				duration = -1
			}
			spawn_wyvernheart_civil_war_rebels = { target_region = inner_castanor_region seat_id = 840 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = south_castanor_region seat_id = 817 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = west_castanor_region seat_id = 728 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_reach_region seat_id = 701 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_frontier_region seat_id = 227 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = forlorn_vale_region seat_id = 777 rebels = mage_rebels }
			remove_country_modifier = wyvernheart_war_wizard_rebels_mod
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.202.a"
		ai_chance = { factor = 1 }
		change_government = theocracy
		add_government_reform = magocracy_reform
		define_ruler = {
			name = "The Regent"
			dynasty = "of Wyvernheart"
			adm = 4
			dip = 5
			mil = 6
			male = yes
			age = 26
			religion = ROOT
			culture = ROOT
		}
		set_ruler_flag = wyvernheart_the_regent
		add_ruler_personality = mage_personality
		define_ruler_to_general = {
			fire = 4
			shock = 11
			manuever = 4
			siege = 7
			trait = war_wizard_personality
		}
		define_heir = {
			dynasty = "of Wyvernheart"
			religion = ROOT
			culture = ROOT
		}
		set_ruler_flag = evocation_1
		set_ruler_flag = evocation_2
		set_ruler_flag = evocation_3
		set_ruler_flag = transmutation_1
		set_ruler_flag = transmutation_2
		set_ruler_flag = conjuration_1
		set_ruler_flag = abjuration_1
		set_ruler_flag = abjuration_2
		add_stability = -2
		add_war_exhaustion = 10
		hidden_effect = {
			country_event = {
				id = flavour_wyvernheart.203
				days = 365
			}
		}
		custom_tooltip = wyvernheart_202_event_tt
	}
}
country_event = {#Victory or Death
	id = flavour_wyvernheart.203
	title = flavour_wyvernheart.203.t
	desc = flavour_wyvernheart.203.d
	picture = {
		trigger = {
			NOT = { has_dlc = "The Cossacks" }
		}
		picture = REVOLT_HUNGARIAN_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "The Cossacks"
		}
		picture = COSSACK_ESTATE_UPSET_eventPicture
	}

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}

	immediate = {
		hidden_effect = {
			spawn_wyvernheart_civil_war_rebels = { target_region = inner_castanor_region seat_id = 840 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = south_castanor_region seat_id = 817 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = west_castanor_region seat_id = 728 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_reach_region seat_id = 701 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_frontier_region seat_id = 227 rebels = pretender_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = forlorn_vale_region seat_id = 777 rebels = pretender_rebels }
			add_country_modifier = {
				name = wyvernheart_war_wizard_rebels_mod
				duration = -1
			}
			spawn_wyvernheart_civil_war_rebels = { target_region = inner_castanor_region seat_id = 840 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = south_castanor_region seat_id = 817 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = west_castanor_region seat_id = 728 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_reach_region seat_id = 701 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = alenic_frontier_region seat_id = 227 rebels = mage_rebels }
			spawn_wyvernheart_civil_war_rebels = { target_region = forlorn_vale_region seat_id = 777 rebels = mage_rebels }
			remove_country_modifier = wyvernheart_war_wizard_rebels_mod
		}
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.203.a"
		ai_chance = { factor = 1 }
		
		custom_tooltip = wyvernheart_203_event_tt
		add_country_modifier = {
			name = wyvernheart_victory_or_death
			duration = 1825
			hidden = yes
		}
		set_country_flag = wyvernheart_victory_or_death_happened
		swap_non_generic_missions = yes
	}
}



#300+ Floodborn Council flavour events
country_event = {#Event manager for the flavour events
	id = flavour_wyvernheart.300
	title = flavour_wyvernheart.300.t
	desc = flavour_wyvernheart.300.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = COURT_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Rights of Man"
		}
		picture = ROYAL_COUPLE_FUTURE_eventPicture
	}

	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
		has_country_flag = wyvernheart_council_events_enabled
		wyvernheart_is_floodborn_council = yes
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.300.a"
		ai_chance = { factor = 1 }
		random_list = {
			1000 = {
				trigger = {
					AND = {
						NOT = {
							has_country_flag = wyvernheart_crisis_of_devotion
						}
						has_global_flag = crimson_deluge_is_over
					}
				}
				country_event = {
					id = flavour_wyvernheart.302
				}
			}
			1000 = {
				trigger = {
					NOT = {
						AND = {
							has_country_flag = wyvernheart_new_face_of_magic
							mission_completed = the_red_flood
						}
					}
					castonath_area = {
						owned_by = ROOT
					}
				}
				country_event = {
					id = flavour_wyvernheart.303
				}
			}
			1 = {
				trigger = {
					OR = {
						has_active_estate_agenda = estate_mages_wyvernheart_invest_in_critical_materials
						has_active_estate_agenda = estate_mages_wyvernheart_research_new_spells
						has_active_estate_agenda = estate_mages_wyvernheart_spread_vision_of_magic
						has_active_estate_agenda = estate_mages_wyvernheart_wave_the_heart
						has_active_estate_agenda = estate_nobles_wyvernheart_choose_avenue_of_expansion
						has_active_estate_agenda = estate_nobles_wyvernheart_invest_in_burblood_production
						has_active_estate_agenda = estate_nobles_wyvernheart_procure_burnblood_candidates
						has_active_estate_agenda = estate_nobles_wyvernheart_remove_corrupt_overseer
					}
				}
				country_event = {
					id = flavour_wyvernheart.304
				}
			}
			1 = {
				country_event = {
					id = flavour_wyvernheart.305
				}
			}
			1 = {
				country_event = {
					id = flavour_wyvernheart.306
				}
			}
			1 = {
				country_event = {
					id = flavour_wyvernheart.307
				}
			}
			1 = {
				trigger = {
					OR = {
						AND = {#Hardliner vs Technocrat
							OR = {
								840 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								728 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								817 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								701 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								227 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								777 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
							}
							OR = {
								840 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								728 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								817 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								701 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								227 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								777 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
							}
						}
						AND = {#Ambitious vs Devout
							OR = {
								840 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								728 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								817 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								701 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								227 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								777 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
							}
							OR = {
								840 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								728 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								817 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								701 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								227 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								777 = {
									has_province_modifier = wyvernheart_devout_seat
								}
							}
						}
						AND = {#Heartmage vs Wealthy
							OR = {
								840 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								728 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								817 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								701 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								227 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								777 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
							}
							OR = {
								840 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								728 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								817 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								701 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								227 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								777 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
							}
						}
					}
				}
				country_event = {
					id = flavour_wyvernheart.308
				}
			}
			1 = {
				country_event = {
					id = flavour_wyvernheart.309
				}
			}
		}
	}
}

country_event = {#A Divided Council #D5
	id = flavour_wyvernheart.301
	title = flavour_wyvernheart.301.t
	desc = flavour_wyvernheart.301.d
	picture = COURT_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}

	immediate = {
		generate_estate_agenda = estate_nobles
		hidden_effect = {
			add_country_modifier = {
				name = wyvernheart_agenda_timer
				duration = 3600
				hidden = yes
			}
		}
	}

	after = {
		clear_estate_agenda_cache = ROOT
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.301.a"
		ai_chance = { factor = 1 }
		set_country_flag = wyvernheart_council_events_enabled
		start_estate_agenda = estate_nobles
	}
}

country_event = {#A Crisis in Devotion
	id = flavour_wyvernheart.302
	title = flavour_wyvernheart.302.t
	desc = flavour_wyvernheart.302.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = RELIGIOUS_TURMOIL_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Common Sense"
		}
		picture = PROTESTANT_RELIGIOUS_DOUBTS_eventPicture
	}
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}

	immediate = {
		hidden_effect = {
			set_country_flag = wyvernheart_crisis_of_devotion
		}
	}


	#Option A
	option = {
		name = "flavour_wyvernheart.302.a"
		ai_chance = { factor = 1 }
		add_stability = -1
		add_country_modifier = {
			name = wyvernheart_faith_in_the_flood_questionned
			duration = 7300
		}
		add_estate_influence_modifier = {
			influence = -20
			duration = 7300
			estate = estate_mages
		}
		add_estate_influence_modifier = {
			influence = -20
			duration = 7300
			estate = estate_church
		}
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.302.b"
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = wyvernheart_faith_in_magic_reinforced
			duration = 7300
		}
		custom_tooltip = wyvernheart_black_doctrine_provinces
		for = {
			amount = 10
			effect = "
				random_owned_province = {
					limit = { NOT = { religion = black_doctrine } }
					change_religion = black_doctrine
				}
			"
		}
	}
}

country_event = {#The New Face of the Council
	id = flavour_wyvernheart.303
	title = flavour_wyvernheart.303.t
	desc = flavour_wyvernheart.303.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = STREET_SPEECH_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Rights of Man"
		}
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = wyvernheart_new_face_of_magic
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.303.a"
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = wyvernheart_escanni_centralization
			duration = 9125
		}
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.303.b"
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = wyvernheart_castonath_first_neg
			duration = 9125
		}
		castonath_area = {
			add_province_modifier = {
				name = wyvernheart_castonath_first_pos
				duration = 9125
			}
		}
	}
	#Option C
	option = {
		name = "flavour_wyvernheart.303.c"
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = wyvernheart_floodborn_academy
			duration = 9125
		}
		custom_tooltip = add_magic_study_modifier_25_tt
		update_magic_study_experience_modifier = { value = 25 }
	}
}

country_event = {#A Change in Course
	id = flavour_wyvernheart.304
	title = flavour_wyvernheart.304.t
	desc = flavour_wyvernheart.304.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = PROTESTANT_CATHOLIC_DEBATE_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Star and Crescent"
		}
		picture = muslimgfx_DEBATE_REPUBLICAN_eventPicture
	}

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}
	immediate = {
		generate_estate_agenda = estate_nobles
	}

	after = {
		clear_estate_agenda_cache = ROOT
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.304.a"
		ai_chance = { factor = 1 }
		start_estate_agenda = estate_nobles
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.304.b"
		ai_chance = { factor = 1 }
		trigger = { crown_land_share = 0.30 }
		add_estate_loyalty = {
			estate = all
			loyalty = -10
		}
	}
}

country_event = {#The Floodborn Machine
	id = flavour_wyvernheart.305
	title = flavour_wyvernheart.305.t
	desc = flavour_wyvernheart.305.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.305.a"
		ai_chance = { factor = 1 }
		add_government_power = {
			mechanic_type = floodborn_council_mechanic
			power_type = bloodbrand_power
			value = 5
		}
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = 10
		}
		add_mil_power = 33
		add_dip_power = 33
		add_adm_power = 33
	}
}

country_event = {#The Council's Challenge
	id = flavour_wyvernheart.306
	title = flavour_wyvernheart.306.t
	desc = flavour_wyvernheart.306.d
	picture = BURGHER_ESTATE_UPSET_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.306.a"
		ai_chance = { factor = 1 }
		add_legitimacy_equivalent = { amount = -20 republican_tradition = -10 }
		random = {
			add_stability = -1
			chance = 25
		}
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.306.b"
		ai_chance = { factor = 1 }
		if = {
			limit = {
				castonath_area = {
					type = all
					owned_by = ROOT
				}
			}
			castonath_area = {
				spawn_rebels = {
					size = 2
					type = pretender_rebels
				}
			}
		}
		else = {
			athfork_area = {
				spawn_rebels = {
					size = 2
					type = pretender_rebels
				}
			}
		}
	}
	#Option C
	option = {
		name = "flavour_wyvernheart.306.c"
		ai_chance = { factor = 1 }
		trigger = {
			calc_true_if = {
				amount = 2
				is_divination_3 = yes
				is_conjuration_3 = yes
				is_abjuration_3 = yes
				is_enchantment_3 = yes
				is_transmutation_3 = yes
				is_illusion_3 = yes
				is_necromancy_3 = yes
				is_conjuration_3 = yes
			}
		}
		highlight = yes
		add_legitimacy_equivalent = { amount = 10 republican_tradition = 5 }
	}
}

country_event = {#The Heart of an Adventurer
	id = flavour_wyvernheart.307
	title = flavour_wyvernheart.307.t
	desc = flavour_wyvernheart.307.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.307.a"
		ai_chance = { factor = 1 }
		add_estate_loyalty = {
			estate = estate_adventurers
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = -10
		}
		add_country_modifier = {
			name = wyvernheart_funding_heartmages
			duration = 3650
		}
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.307.b"
		ai_chance = { factor = 1 }
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_adventurers
			loyalty = -30
		}
		add_legitimacy_equivalent = { amount = 10 republican_tradition = 5 }
		add_country_modifier = {
			name = wyvernheart_refused_heartmages
			duration = 3650
		}
	}
}

country_event = {#The Rivalries of the Council
	id = flavour_wyvernheart.308
	title = flavour_wyvernheart.308.t
	desc = flavour_wyvernheart.308.d
	picture = PROTESTANT_CATHOLIC_DEBATE_eventPicture

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	immediate = {
		hidden_effect = {
			clr_country_flag = wyvernheart_rivalry_hardliner_technocrat
			clr_country_flag = wyvernheart_rivalry_ambitious_devout
			clr_country_flag = wyvernheart_rivalry_heartmage_wealthy
			random_list = {
				1 = {
					trigger = {
						AND = {#Hardliner vs Technocrat
							OR = {
								840 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								728 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								817 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								701 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								227 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
								777 = {
									has_province_modifier = wyvernheart_hardliner_seat
								}
							}
							OR = {
								840 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								728 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								817 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								701 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								227 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
								777 = {
									has_province_modifier = wyvernheart_technocratic_seat
								}
							}
						}
					}
					set_country_flag = wyvernheart_rivalry_hardliner_technocrat
				}
				1 = {
					trigger = {
						AND = {#Ambitious vs Devout
							OR = {
								840 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								728 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								817 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								701 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								227 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
								777 = {
									has_province_modifier = wyvernheart_ambitious_seat
								}
							}
							OR = {
								840 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								728 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								817 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								701 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								227 = {
									has_province_modifier = wyvernheart_devout_seat
								}
								777 = {
									has_province_modifier = wyvernheart_devout_seat
								}
							}
						}
					}
					set_country_flag = wyvernheart_rivalry_ambitious_devout
				}
				1 = {
					trigger = {
						AND = {#Heartmage vs Wealthy
							OR = {
								840 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								728 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								817 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								701 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								227 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
								777 = {
									has_province_modifier = wyvernheart_heartmage_seat
								}
							}
							OR = {
								840 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								728 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								817 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								701 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								227 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
								777 = {
									has_province_modifier = wyvernheart_wealthy_seat
								}
							}
						}
					}
					set_country_flag = wyvernheart_rivalry_heartmage_wealthy
				}
			}
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.308.a"
		ai_chance = { factor = 1 }
		if = {
			limit = { has_country_flag = wyvernheart_rivalry_hardliner_technocrat }
			add_stability_or_adm_power = yes
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = 10
			}
			random_owned_province = {
				limit = { has_province_modifier = wyvernheart_technocratic_seat_mod }
				add_devastation = 15
				spawn_rebels = {
					size = 2
					type = mage_rebels
				}
			}
		}
		else_if = {
			limit = { has_country_flag = wyvernheart_rivalry_ambitious_devout }
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = 10
			}
			add_legitimacy_equivalent = { amount = -10 republican_tradition = -5 }
			add_government_power = {
				mechanic_type = floodborn_council_mechanic
				power_type = bloodbrand_power
				value = 5
			}
			add_country_modifier = {
				name = wyvernheart_upset_mages
				duration = 3650
			}
		}
		else = {
			random_owned_province = {
				limit = { has_province_modifier = wyvernheart_heartmage_seat }
				if = {
					limit = {
						devastation = 1
					}
					add_devastation = -20
				}
				else = {
					add_random_development = 1
				}
			}
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 10
			}
			add_estate_loyalty = {
				estate = estate_adventurers
				loyalty = 10
			}
			random_owned_province = {
				limit = { has_province_modifier = wyvernheart_wealthy_seat }
				add_province_modifier = {
					name = wyvernheart_wealthy_scions_angry
					duration = 3650
				}
			}
			add_estate_loyalty = {
				estate = estate_burghers
				loyalty = -10
			}
		}
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.308.b"
		ai_chance = { factor = 1 }
		if = {
			limit = { has_country_flag = wyvernheart_rivalry_hardliner_technocrat }
			change_innovativeness = 2
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = 10
			}
			random_owned_province = {
				limit = { has_province_modifier = wyvernheart_hardliner_seat }
				add_unrest = 10
				spawn_rebels = {
					size = 2
					type = noble_rebels
				}
			}
		}
		else_if = {
			limit = { has_country_flag = wyvernheart_rivalry_ambitious_devout }
			add_legitimacy_equivalent = { amount = 10 republican_tradition = 5 }
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 10
			}
			add_country_modifier = {
				name = reduced_stability_cost
				duration = 3650
			}
			random_owned_province = {
				limit = { has_province_modifier = wyvernheart_devout_seat_mod }
				add_unrest = 10
				spawn_rebels = {
					size = 3
					type = mage_rebels
				}
			}
		}
		else = {
			add_mercantilism = 2
			add_prestige = -15
			add_estate_loyalty = {
				estate = estate_burghers
				loyalty = 15
			}
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = -10
			}
		}
	}
}

country_event = {#An Upstart in the Council
	id = flavour_wyvernheart.309
	title = flavour_wyvernheart.309.t
	desc = flavour_wyvernheart.309.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.309.a"
		ai_chance = { factor = 1 }
		add_legitimacy_equivalent = { amount = 15 republican_tradition = 7 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		add_war_exhaustion = 2
		add_government_power = {
			mechanic_type = floodborn_council_mechanic
			power_type = bloodbrand_power
			value = -5
		}
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.309.b"
		ai_chance = { factor = 1 }
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = -15
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -15
		}
		increase_study_experience = { experience = 100 }
	}
	#Option C
	option = {
		name = "flavour_wyvernheart.309.c"
		ai_chance = { factor = 1 }
		add_legitimacy_equivalent = { amount = -10 republican_tradition = -5 }
		define_advisor = {
			type = court_mage
			skill = 1
			cost_multiplier = 0.50
			culture = ROOT
			religion = ROOT
		}
	}
	#Option D
	option = {
		name = "flavour_wyvernheart.309.e"
		ai_chance = { factor = 1 }
		add_government_power = {
			mechanic_type = floodborn_council_mechanic
			power_type = bloodbrand_power
			value = 5
		}
		add_legitimacy_equivalent = { amount = 10 republican_tradition = 5 }
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = -5
		}
	}
}

country_event = {#Estate agenda manager
	id = flavour_wyvernheart.310
	title = flavour_wyvernheart.310.t
	desc = flavour_wyvernheart.310.d
	picture = LIBERUM_VETO_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = B39
		NOT = { has_country_modifier = wyvernheart_agenda_timer }
		wyvernheart_is_floodborn_council = yes
	}
	
	immediate = {
		hidden_effect = {
			generate_estate_agenda = estate_nobles
			generate_estate_agenda = estate_mages
			add_country_modifier = {
				name = wyvernheart_agenda_timer
				duration = 2900
				hidden = yes
			}
		}
	}

	after = {
		clear_estate_agenda_cache = ROOT
	}
	
	#Option A
	option = {
		name = "flavour_wyvernheart.310.a"
		ai_chance = { factor = 1 }
		start_estate_agenda = estate_nobles
	}
	#Option B
	option = {
		name = "flavour_wyvernheart.310.b"
		ai_chance = { factor = 1 }
		start_estate_agenda = estate_mages
	}
}





#400+ Culture conversion events
province_event = {#A Heartman Home
	id = flavour_wyvernheart.401
	title = flavour_wyvernheart.401.t
	desc = flavour_wyvernheart.401.d
	picture = PEASANTS_BARTERING_eventPicture

	is_triggered_only = yes
	
	trigger = {
		owner = {
			tag = B39
			NOT = { has_country_modifier = wyvernheart_cultural_events_timer }
			NOT = { has_country_flag = wyvernheart_401_recent }
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.401.a"
		ai_chance = { factor = 1 }
		owner = {
			hidden_effect = {
				add_country_modifier = {
					hidden = yes
					name = wyvernheart_cultural_events_timer
					duration = 2890 #8years - 1 month
				}
			}
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_4 } add_company_manpower = 0.01 }
			set_country_flag = wyvernheart_401_recent
			clr_country_flag = wyvernheart_402_recent
			clr_country_flag = wyvernheart_403_recent
			clr_country_flag = wyvernheart_404_recent
		}
	}
}

province_event = {#A Dream Realised
	id = flavour_wyvernheart.402
	title = flavour_wyvernheart.402.t
	desc = flavour_wyvernheart.402.d
	picture = RELIGIOUS_CONVERSION_eventPicture

	is_triggered_only = yes
	
	trigger = {
		owner = {
			tag = B39
			NOT = { has_country_modifier = wyvernheart_cultural_events_timer }
			NOT = { has_country_flag = wyvernheart_402_recent }
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.402.a"
		ai_chance = { factor = 1 }
		owner = {
			add_legitimacy_equivalent = { amount = 5 republican_tradition = 3 }
			hidden_effect = {
				add_country_modifier = {
					hidden = yes
					name = wyvernheart_cultural_events_timer
					duration = 2890 #8years - 1 month
				}
			}
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_4 } add_company_manpower = 0.01 }
			set_country_flag = wyvernheart_402_recent
			clr_country_flag = wyvernheart_401_recent
			clr_country_flag = wyvernheart_403_recent
			clr_country_flag = wyvernheart_404_recent
		}
	}
}

province_event = {#Away With the Old
	id = flavour_wyvernheart.403
	title = flavour_wyvernheart.403.t
	desc = flavour_wyvernheart.403.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Emperor" }
		}
		picture = BORDER_TENSION_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Emperor"
		}
		picture = latin_RELIGIOUS_TURMOIL_eventPicture
	}

	is_triggered_only = yes
	
	trigger = {
		owner = {
			tag = B39
			NOT = { has_country_modifier = wyvernheart_cultural_events_timer }
			NOT = { has_country_flag = wyvernheart_403_recent }
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.403.a"
		ai_chance = { factor = 1 }
		add_unrest = 3
		owner = {
			hidden_effect = {
				add_country_modifier = {
					hidden = yes
					name = wyvernheart_cultural_events_timer
					duration = 2890 #8years - 1 month
				}
			}
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_4 } add_company_manpower = 0.01 }
			set_country_flag = wyvernheart_403_recent
			clr_country_flag = wyvernheart_402_recent
			clr_country_flag = wyvernheart_401_recent
			clr_country_flag = wyvernheart_404_recent
		}
	}
}

province_event = {#A Forceful Assimilation
	id = flavour_wyvernheart.404
	title = flavour_wyvernheart.404.t
	desc = flavour_wyvernheart.404.d
	picture = BORDER_TENSION_eventPicture

	is_triggered_only = yes
	
	trigger = {
		owner = {
			tag = B39
			NOT = { has_country_modifier = wyvernheart_cultural_events_timer }
			NOT = { has_country_flag = wyvernheart_404_recent }
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.404.a"
		ai_chance = { factor = 1 }
		add_devastation = 10
		owner = {
			hidden_effect = {
				add_country_modifier = {
					hidden = yes
					name = wyvernheart_cultural_events_timer
					duration = 2890 #8years - 1 month
				}
			}
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_2_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_3_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_4_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_5_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_1 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_2 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_3 } add_company_manpower = 0.01 }
			random_hired_mercenary_company = { limit = { template = merc_wyvernheart_burnblood_company_6_4 } add_company_manpower = 0.01 }
			set_country_flag = wyvernheart_404_recent
			clr_country_flag = wyvernheart_402_recent
			clr_country_flag = wyvernheart_403_recent
			clr_country_flag = wyvernheart_401_recent
		}
	}
}



country_event = {#remove Overseer General when PM isn't here
	id = flavour_wyvernheart.500
	title = flavour_wyvernheart.500.t
	desc = flavour_wyvernheart.500.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = COURT_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Rights of Man"
		}
		picture = ROYAL_COUPLE_FUTURE_eventPicture
	}
	hidden = yes

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.500.a"
		ai_chance = { factor = 1 }
		if = {#remove Hardliner General
			limit = {
				NOT = {
					OR = {
						840 = {#North Citadel
							has_province_modifier = wyvernheart_hardliner_seat
						}
						728 = {#Cannwood
							has_province_modifier = wyvernheart_hardliner_seat
						}
						817 = {#Bladeskeep
							has_province_modifier = wyvernheart_hardliner_seat
						}
						701 = {#Esald
							has_province_modifier = wyvernheart_hardliner_seat
						}
						227 = {#Aldtempel
							has_province_modifier = wyvernheart_hardliner_seat
						}
						777 = {#Escin
							has_province_modifier = wyvernheart_hardliner_seat
						}
					}
				}
				has_leader = "Hardliner Overseer"
			}
			kill_leader = {
				type = "Hardliner Overseer"
			}
		}
		if = {#remove Technocrat General
			limit = {
				NOT = {
					OR = {
						840 = {#North Citadel
							has_province_modifier = wyvernheart_technocratic_seat
						}
						728 = {#Cannwood
							has_province_modifier = wyvernheart_technocratic_seat
						}
						817 = {#Bladeskeep
							has_province_modifier = wyvernheart_technocratic_seat
						}
						701 = {#Esald
							has_province_modifier = wyvernheart_technocratic_seat
						}
						227 = {#Aldtempel
							has_province_modifier = wyvernheart_technocratic_seat
						}
						777 = {#Escin
							has_province_modifier = wyvernheart_technocratic_seat
						}
					}
				}
				has_leader = "Technocrat Overseer"
			}
			kill_leader = {
				type = "Technocrat Overseer"
			}
		}
		if = {#remove Heartmage General
			limit = {
				NOT = {
					OR = {
						840 = {#North Citadel
							has_province_modifier = wyvernheart_heartmage_seat
						}
						728 = {#Cannwood
							has_province_modifier = wyvernheart_heartmage_seat
						}
						817 = {#Bladeskeep
							has_province_modifier = wyvernheart_heartmage_seat
						}
						701 = {#Esald
							has_province_modifier = wyvernheart_heartmage_seat
						}
						227 = {#Aldtempel
							has_province_modifier = wyvernheart_heartmage_seat
						}
						777 = {#Escin
							has_province_modifier = wyvernheart_heartmage_seat
						}
					}
				}
				has_leader = "Heartmage Overseer"
			}
			kill_leader = {
				type = "Heartmage Overseer"
			}
		}
		if = {#remove Devout General
			limit = {
				NOT = {
					OR = {
						840 = {#North Citadel
							has_province_modifier = wyvernheart_devout_seat
						}
						728 = {#Cannwood
							has_province_flag = wyvernheart_devout_seat
						}
						817 = {#Bladeskeep
							has_province_modifier = wyvernheart_devout_seat
						}
						701 = {#Esald
							has_province_modifier = wyvernheart_devout_seat
						}
						227 = {#Aldtempel
							has_province_modifier = wyvernheart_devout_seat
						}
						777 = {#Escin
							has_province_modifier = wyvernheart_devout_seat
						}
					}
				}
				has_leader = "Devout Overseer"
			}
			kill_leader = {
				type = "Devout Overseer"
			}
		}
		if = {#remove Wealthy General
			limit = {
				NOT = {
					OR = {
						840 = {#North Citadel
							has_province_modifier = wyvernheart_wealthy_seat
						}
						728 = {#Cannwood
							has_province_modifier = wyvernheart_wealthy_seat
						}
						817 = {#Bladeskeep
							has_province_modifier = wyvernheart_wealthy_seat
						}
						701 = {#Esald
							has_province_modifier = wyvernheart_wealthy_seat
						}
						227 = {#Aldtempel
							has_province_modifier = wyvernheart_wealthy_seat
						}
						777 = {#Escin
							has_province_modifier = wyvernheart_wealthy_seat
						}
					}
				}
				has_leader = "Wealthy Overseer"
			}
			kill_leader = {
				type = "Wealthy Overseer"
			}
		}
		if = {#remove Ambitious General
			limit = {
				NOT = {
					OR = {
						840 = {#North Citadel
							has_province_modifier = wyvernheart_ambitious_seat
						}
						728 = {#Cannwood
							has_province_modifier = wyvernheart_ambitious_seat
						}
						817 = {#Bladeskeep
							has_province_modifier = wyvernheart_ambitious_seat
						}
						701 = {#Esald
							has_province_modifier = wyvernheart_ambitious_seat
						}
						227 = {#Aldtempel
							has_province_modifier = wyvernheart_ambitious_seat
						}
						777 = {#Escin
							has_province_modifier = wyvernheart_ambitious_seat
						}
					}
				}
				has_leader = "Ambitious Overseer"
			}
			kill_leader = {
				type = "Ambitious Overseer"
			}
		}
	}
}
country_event = {#Rolls magic schools for the manifest the flood gov power
	id = flavour_wyvernheart.501
	title = flavour_wyvernheart.501.t
	desc = flavour_wyvernheart.501.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = COURT_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Rights of Man"
		}
		picture = ROYAL_COUPLE_FUTURE_eventPicture
	}
	hidden = yes

	is_triggered_only = yes
	
	trigger = {
		is_or_was_tag = { tag = B39 }
	}

	immediate = {
		if = {
			limit = {
				OR = {
					NOT = {
						has_country_flag = wyvernheart_manifest_the_flood_divination
						has_country_flag = wyvernheart_manifest_the_flood_abjuration
						has_country_flag = wyvernheart_manifest_the_flood_conjuration
						has_country_flag = wyvernheart_manifest_the_flood_necromancy
						has_country_flag = wyvernheart_manifest_the_flood_enchantment
						has_country_flag = wyvernheart_manifest_the_flood_transmutation
						has_country_flag = wyvernheart_manifest_the_flood_evocation
						has_country_flag = wyvernheart_manifest_the_flood_illusion
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_divination
						is_divination_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_abjuration
						is_abjuration_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_conjuration
						is_conjuration_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_necromancy
						is_necromancy_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_enchantment
						is_enchantment_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_transmutation
						is_transmutation_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_evocation
						is_evocation_3 = yes
					}
					AND = {
						has_country_flag = wyvernheart_manifest_the_flood_illusion
						is_illusion_3 = yes
					}
				}
			}
			clr_country_flag = wyvernheart_manifest_the_flood_divination
			clr_country_flag = wyvernheart_manifest_the_flood_abjuration
			clr_country_flag = wyvernheart_manifest_the_flood_conjuration
			clr_country_flag = wyvernheart_manifest_the_flood_necromancy
			clr_country_flag = wyvernheart_manifest_the_flood_enchantment
			clr_country_flag = wyvernheart_manifest_the_flood_transmutation
			clr_country_flag = wyvernheart_manifest_the_flood_evocation
			clr_country_flag = wyvernheart_manifest_the_flood_illusion
			random_list = {
				1 = {
					trigger = {
						NOT = { is_divination_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_divination }
				}
				1 = {
					trigger = {
						NOT = { is_abjuration_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_abjuration }
				}
				1 = {
					trigger = {
						NOT = { is_conjuration_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_conjuration }
				}
				1 = {
					trigger = {
						NOT = { is_necromancy_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_necromancy }
				}
				1 = {
					trigger = {
						NOT = { is_enchantment_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_enchantment }
				}
				1 = {
					trigger = {
						NOT = { is_transmutation_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_transmutation }
				}
				1 = {
					trigger = {
						NOT = { is_evocation_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_evocation }
				}
				1 = {
					trigger = {
						NOT = { is_illusion_3 = yes }
					}
					ROOT = { set_country_flag = wyvernheart_manifest_the_flood_illusion }
				}
			}
		}
	}

	#Option A
	option = {
		name = "flavour_wyvernheart.501.a"
		ai_chance = { factor = 1 }
	}
}